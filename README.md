# Chet.QuartzNet.UI å¯è§†åŒ–ä½œä¸šè°ƒåº¦ç®¡ç†ç³»ç»Ÿ

Chet.QuartzNet.UI æ˜¯ä¸€ä¸ªåŸºäº .NET 8.0 å’ŒVbenAdmin æ¡†æ¶å¼€å‘çš„å¯è§†åŒ–ä½œä¸šè°ƒåº¦ç®¡ç†ç³»ç»Ÿï¼Œæä¾›äº†å®Œæ•´çš„ä»»åŠ¡è°ƒåº¦ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒæ–‡ä»¶å­˜å‚¨å’Œæ•°æ®åº“å­˜å‚¨ä¸¤ç§æ¨¡å¼ã€‚è¯¥ç»„ä»¶åº“æ—¨åœ¨ç®€åŒ– Quartz.Net çš„ä½¿ç”¨é—¨æ§›ï¼Œæä¾›ç›´è§‚ã€æ˜“ç”¨çš„å¯è§†åŒ–ç®¡ç†ç•Œé¢ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°åˆ›å»ºã€ç®¡ç†ã€ç›‘æ§å’Œè°ƒè¯•å®šæ—¶ä½œä¸šï¼Œæ— éœ€æ·±å…¥äº†è§£ Quartz.Net çš„å¤æ‚ APIã€‚

é€šè¿‡ Chet.QuartzNet.UIï¼Œæ‚¨å¯ä»¥å¿«é€Ÿé›†æˆä»»åŠ¡è°ƒåº¦åŠŸèƒ½åˆ°ç°æœ‰é¡¹ç›®ä¸­ï¼Œå®ç°ä½œä¸šçš„å¯è§†åŒ–é…ç½®ã€å®æ—¶ç›‘æ§å’Œå†å²è®°å½•æŸ¥è¯¢ï¼Œå¤§å¤§æé«˜å¼€å‘æ•ˆç‡å’Œè¿ç»´ä¾¿åˆ©æ€§ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”§ **å¯è§†åŒ–ç®¡ç† Quartz ä½œä¸š**ï¼šé€šè¿‡ Web ç•Œé¢ç®¡ç† Quartz ä½œä¸šã€è§¦å‘å™¨å’Œè°ƒåº¦å™¨
- ğŸ“Š **å®æ—¶ç›‘æ§**ï¼šå®æ—¶æŸ¥çœ‹ä½œä¸šæ‰§è¡ŒçŠ¶æ€å’Œæ—¥å¿—
- ğŸ¯ **ClassJob æ¨¡å¼æ”¯æŒ**ï¼šæ”¯æŒåŸºäºç±»çš„ä½œä¸šå®šä¹‰ï¼Œç®€åŒ–ä½œä¸šåˆ›å»º
- âœ… **ClassJob è‡ªåŠ¨æ³¨å†Œ**ï¼šè‡ªåŠ¨æ‰«æå’Œæ³¨å†Œå¸¦æœ‰ç‰¹å®šç‰¹æ€§çš„ä½œä¸šç±»
- ğŸ’¾ **å¤šç§å­˜å‚¨æ–¹å¼**ï¼šæ”¯æŒæ–‡ä»¶å­˜å‚¨å’Œæ•°æ®åº“å­˜å‚¨ï¼ˆMySQLã€PostgreSQLã€SQL Serverã€SQLiteï¼‰
- ğŸ” **è®¤è¯ä¿æŠ¤**ï¼šæä¾› JWT è®¤è¯ä¿æŠ¤ç®¡ç†ç•Œé¢
- ğŸ“¦ **RCL æ‰“åŒ…**ï¼šä½¿ç”¨ Razor Class Library æ‰“åŒ…ï¼Œæ— ä¾µå…¥é›†æˆ
- ğŸš€ **å¿«é€Ÿé›†æˆ**ï¼šç®€å•é…ç½®å³å¯é›†æˆåˆ°ç°æœ‰é¡¹ç›®
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šåŸºäº VbenAdmin æ¡†æ¶ï¼Œç•Œé¢ç¾è§‚æ˜“ç”¨
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- ğŸ“ **ä½œä¸šæ‰§è¡Œå†å²**ï¼šè®°å½•ä½œä¸šæ‰§è¡Œå†å²å’Œç»“æœ
- ğŸ¯ **æ•°æ®åŒæ­¥åŠŸèƒ½**ï¼šæ”¯æŒæ•°æ®åŒæ­¥ä½œä¸šç¤ºä¾‹
- â±ï¸ **çµæ´»çš„æ—¶é—´è°ƒåº¦**ï¼šæ”¯æŒ Cron è¡¨è¾¾å¼å’Œå¤šç§è§¦å‘å™¨ç±»å‹

## ğŸ“¦ å®‰è£…

### NuGet å®‰è£…

æ ¹æ®éœ€è¦é€‰æ‹©å®‰è£…çš„åŒ…ï¼š

```bash
# ä¸»åŒ…ï¼ˆåŒ…å«æ ¸å¿ƒåŠŸèƒ½å’Œæ–‡ä»¶å­˜å‚¨ï¼‰
dotnet add package Chet.QuartzNet.UI

# å¦‚æœéœ€è¦æ•°æ®åº“å­˜å‚¨æ”¯æŒ
dotnet add package Chet.QuartzNet.EFCore

# æ•°æ®åº“æä¾›ç¨‹åºï¼ˆæ ¹æ®éœ€è¦é€‰æ‹©ï¼‰
dotnet add package Pomelo.EntityFrameworkCore.MySql        # MySQL
dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL    # PostgreSQL
dotnet add package Microsoft.EntityFrameworkCore.SqlServer   # SQL Server
dotnet add package Microsoft.EntityFrameworkCore.Sqlite      # SQLite
```

### ä¾èµ–è¦æ±‚

- .NET 8.0
- ASP.NET Core 8.0+
- Quartz.NET 3.8.1+ - ä½œä¸šè°ƒåº¦æ ¸å¿ƒåº“
- Entity Framework Core 8.0+ï¼ˆå¯é€‰ï¼Œç”¨äºæ•°æ®åº“å­˜å‚¨ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬é…ç½®

åœ¨ `Program.cs` ä¸­æ·»åŠ æœåŠ¡ï¼š

```csharp
// æ·»åŠ  Quartz UI æœåŠ¡ï¼ˆæ–‡ä»¶å­˜å‚¨æ¨¡å¼ï¼‰
builder.Services.AddQuartzUI();

// æ·»åŠ  ClassJob æ”¯æŒï¼ˆå¯é€‰ï¼‰
builder.Services.AddQuartzClassJobs();

// å¯ç”¨ä¸­é—´ä»¶
app.UseQuartz();
```

### 2. æ•°æ®åº“å­˜å‚¨é…ç½®

#### MySQL

```csharp
// å®‰è£… Pomelo.EntityFrameworkCore.MySql
dotnet add package Pomelo.EntityFrameworkCore.MySql

// é…ç½®æœåŠ¡
builder.Services.AddQuartzUIMySql(connectionString);
```

#### PostgreSQL

```csharp
// å®‰è£… Npgsql.EntityFrameworkCore.PostgreSQL
dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL

// é…ç½®æœåŠ¡
builder.Services.AddQuartzUIPostgreSQL(connectionString);
```

#### SQL Server

```csharp
// å®‰è£… Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.SqlServer

// é…ç½®æœåŠ¡
builder.Services.AddQuartzUISqlServer(connectionString);
```

#### SQLite

```csharp
// å®‰è£… Microsoft.EntityFrameworkCore.Sqlite
dotnet add package Microsoft.EntityFrameworkCore.Sqlite

// é…ç½®æœåŠ¡
builder.Services.AddQuartzUISQLite(connectionString);
```

### 3. è®¿é—®ç®¡ç†ç•Œé¢

å¯åŠ¨åº”ç”¨åï¼Œè®¿é—® `/quartz-ui` å³å¯è¿›å…¥ç®¡ç†ç•Œé¢ã€‚

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åˆ›å»º ClassJob

ä½¿ç”¨ `[QuartzJob]` ç‰¹æ€§å®šä¹‰ä½œä¸šç±»ï¼š

```csharp
using Chet.QuartzNet.Core.Attributes;
using Quartz;

[QuartzJob("SampleJob", "DEFAULT", "0 0/5 * * * ?", Description = "ç¤ºä¾‹ä½œä¸šï¼Œæ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡")]
public class SampleJob : IJob
{
    private readonly ILogger<SampleJob> _logger;

    public SampleJob(ILogger<SampleJob> logger)
    {
        _logger = logger;
    }

    public async Task Execute(IJobExecutionContext context)
    {
        _logger.LogInformation("SampleJobå¼€å§‹æ‰§è¡Œï¼Œæ‰§è¡Œæ—¶é—´: {ExecuteTime}", DateTime.Now);
        
        try
        {
            // ä¸šåŠ¡é€»è¾‘å¤„ç†
            await Task.Delay(1000);
            _logger.LogInformation("SampleJobæ‰§è¡Œå®Œæˆ");
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "SampleJobæ‰§è¡Œå¤±è´¥");
            throw;
        }
    }
}
```

### æ³¨å†Œ ClassJob

```csharp
// è‡ªåŠ¨æ‰«æå¹¶æ³¨å†Œæ‰€æœ‰æ ‡è®°äº† QuartzJob ç‰¹æ€§çš„ç±»
builder.Services.AddQuartzClassJobs();
```

### è®¤è¯é…ç½®

å¯ç”¨ JWT è®¤è¯ï¼š

```csharp
// æ·»åŠ  Quartz UI æœåŠ¡æ—¶å¯ç”¨ JWT è®¤è¯
builder.Services.AddQuartzUI();
builder.Services.AddQuartzUIAuthentication(builder.Configuration);
// åœ¨ appsettings.json ä¸­é…ç½® JWT ç›¸å…³é€‰é¡¹
"QuartzUI": {
  "UserName": "admin",
  "Password": "password",
  "JwtSecret": "your-secret-key-change-this-in-production",
  "JwtExpiresInMinutes": 30,
  "JwtIssuer": "Chet",
  "JwtAudience": "Chet.QuartzNet.UI"
}

// å¯ç”¨ä¸­é—´ä»¶
app.UseQuartz();
```

## ğŸ¯ ç•Œé¢åŠŸèƒ½

### åˆ†æé¡µ
- ğŸ“Š æ˜¾ç¤ºå½“å‰æ´»è·ƒä½œä¸šæ•°é‡
- ğŸ“ˆ è‡ªåŠ¨åˆ·æ–°çŠ¶æ€ä¿¡æ¯
- ğŸ“ æŸ¥çœ‹ä½œä¸šæ‰§è¡Œå†å²è®°å½•



### ä½œä¸šç®¡ç†
- ğŸ“‹ ä½œä¸šåˆ—è¡¨å±•ç¤ºï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- â• æ·»åŠ æ–°ä½œä¸šï¼ˆæ”¯æŒCronè¡¨è¾¾å¼éªŒè¯ï¼‰
- âœï¸ ç¼–è¾‘ç°æœ‰ä½œä¸š
- ğŸ”„ è§¦å‘ä½œä¸šï¼ˆç«‹å³æ‰§è¡Œï¼‰
- â¸ï¸ æš‚åœ/æ¢å¤ä½œä¸š
- ğŸ—‘ï¸ åˆ é™¤ä½œä¸š
- ğŸ“Š æŸ¥çœ‹ä½œä¸šçŠ¶æ€ï¼ˆæ­£å¸¸ã€æš‚åœã€å®Œæˆã€é”™è¯¯ã€é˜»å¡ï¼‰
- ğŸ“ æŸ¥çœ‹ä½œä¸šæ‰§è¡Œå†å²è®°å½•

### æ—¥å¿—ç®¡ç†
- ğŸ“œ æŸ¥çœ‹ä½œä¸šæ‰§è¡Œå†å²
- ğŸ” æŒ‰çŠ¶æ€ç­›é€‰æ—¥å¿—ï¼ˆè¿è¡Œä¸­ã€æˆåŠŸã€å¤±è´¥ï¼‰
- â±ï¸ æŸ¥çœ‹æ‰§è¡Œè€—æ—¶
- âŒ æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
- ğŸ“‹ åˆ†é¡µæ˜¾ç¤ºæ—¥å¿—è®°å½•

### åˆ†æé¡µ
- ğŸ“Š **ä½œä¸šç»Ÿè®¡æ¦‚è§ˆ**ï¼šæ€»ä½œä¸šæ•°ã€å¯ç”¨/ç¦ç”¨ä½œä¸šæ•°ã€æ­£åœ¨æ‰§è¡Œä½œä¸šæ•°ã€æˆåŠŸ/å¤±è´¥æ‰§è¡Œæ¬¡æ•°
- ğŸ“ˆ **ä½œä¸šçŠ¶æ€åˆ†å¸ƒ**ï¼šå„çŠ¶æ€ä½œä¸šæ•°é‡å’Œç™¾åˆ†æ¯”çš„é¥¼å›¾å±•ç¤º
- ğŸ“‰ **ä½œä¸šæ‰§è¡Œè¶‹åŠ¿**ï¼šä½œä¸šæ‰§è¡Œè¶‹åŠ¿çš„æŠ˜çº¿å›¾å±•ç¤º
- â±ï¸ **ä½œä¸šæ‰§è¡Œè€—æ—¶**ï¼šä½œä¸šæ‰§è¡Œè€—æ—¶çš„æŸ±çŠ¶å›¾å±•ç¤º
- ğŸ“‹ **ä½œä¸šç±»å‹åˆ†å¸ƒ**ï¼šå„ç±»å‹ä½œä¸šæ•°é‡å’Œç™¾åˆ†æ¯”çš„é¥¼å›¾å±•ç¤º

### è°ƒåº¦å™¨çŠ¶æ€
- ğŸŸ¢ å®æ—¶æ˜¾ç¤ºè°ƒåº¦å™¨è¿è¡ŒçŠ¶æ€
- ğŸ“ˆ è‡ªåŠ¨åˆ·æ–°çŠ¶æ€ä¿¡æ¯
- ğŸ“Š æ˜¾ç¤ºå½“å‰æ´»è·ƒä½œä¸šæ•°é‡

### ä½œä¸šç±»å‹æ”¯æŒ
- ğŸ¯ DLL æ¨¡å¼ï¼šåŸºäºç±»çš„ä½œä¸šå®šä¹‰
- âš™ï¸ API æ¨¡å¼ï¼šåŸºäº API è°ƒç”¨çš„ä½œä¸šå®šä¹‰

## ğŸ”§ é…ç½®é€‰é¡¹

### æ•°æ®åº“é…ç½®

æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œé€šè¿‡ä¸åŒçš„æ‰©å±•æ–¹æ³•é…ç½®ï¼š

```csharp
// MySQL
services.AddQuartzUIMySql(options);

// PostgreSQL  
services.AddQuartzUIPostgreSQL(options);

// SQL Server
services.AddQuartzUISqlServer(options);
```

### æˆæƒé…ç½®

```json
{
  "QuartzUI": {
    "UserName": "è‡ªå®šä¹‰ç”¨æˆ·å",
    "Password": "è‡ªå®šä¹‰å¯†ç ",
    "JwtSecret": "your-secret-key-change-this-in-production",
    "JwtExpiresInMinutes": 30,
    "JwtIssuer": "Chet",
    "JwtAudience": "Chet.QuartzNet.UI"
  }
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
Chet.QuartzNet.UI/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Chet.QuartzNet.Core/          # æ ¸å¿ƒæœåŠ¡å’ŒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ Attributes/               # ä½œä¸šç‰¹æ€§å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ Configuration/            # é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ Interfaces/               # æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ Jobs/                     # ä½œä¸šç›¸å…³åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ Services/                 # æ ¸å¿ƒæœåŠ¡å®ç°
â”‚   â”œâ”€â”€ Chet.QuartzNet.EFCore/        # EF Core æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ Data/                     # æ•°æ®åº“ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ Extensions/               # æ‰©å±•æ–¹æ³•
â”‚   â”‚   â”œâ”€â”€ Migrations/               # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â””â”€â”€ Services/                 # æ•°æ®åº“å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ Chet.QuartzNet.Models/        # æ•°æ®æ¨¡å‹å’Œ DTO
â”‚   â”‚   â”œâ”€â”€ DTOs/                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â””â”€â”€ Entities/                 # å®ä½“ç±»
â”‚   â””â”€â”€ Chet.QuartzNet.UI/            # UI ç»„ä»¶å’Œæ§åˆ¶å™¨
â”‚       â”œâ”€â”€ Controllers/              # API æ§åˆ¶å™¨
â”‚       â”œâ”€â”€ Extensions/               # æ‰©å±•æ–¹æ³•
â”‚       â”œâ”€â”€ Middleware/               # ä¸­é—´ä»¶
â”‚       â””â”€â”€ wwwroot/                  # é™æ€èµ„æº
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ Chet.QuartzNet.Example/       # æ–‡ä»¶å­˜å‚¨ç¤ºä¾‹é¡¹ç›®
â”‚   â””â”€â”€ Chet.QuartzNet.Test/          # æ•°æ®åº“å­˜å‚¨ç¤ºä¾‹é¡¹ç›®
â”œâ”€â”€ docs/                             # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                     # é¡¹ç›®ç®€ä»‹å’Œä½¿ç”¨æ–‡æ¡£
â”‚   â””â”€â”€ PUBLISHING.md                 # å‘å¸ƒæŒ‡å—
â”œâ”€â”€ README.md                         # é¡¹ç›®æ ¹ç›®å½•æ–‡æ¡£
â”œâ”€â”€ LICENSE                           # è®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ build-nuget.bat                   # Windows æ„å»ºè„šæœ¬
â””â”€â”€ Chet.QuartzNet.UI.sln             # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

## ğŸš€ å¼€å‘è®¡åˆ’

- [x] æ ¸å¿ƒåŠŸèƒ½å®ç°
- [x] EFCoreæ•°æ®è®¿é—®å±‚
- [x] Ant Design Vueå‰ç«¯ç•Œé¢
- [x] Basicæˆæƒæ”¯æŒ
- [x] JWTæˆæƒæ”¯æŒ
- [x] Razor Class Libraryæ‰“åŒ…
- [x] ç¤ºä¾‹é¡¹ç›®
- [x] é‚®ä»¶é€šçŸ¥åŠŸèƒ½
- [ ] æ›´å¤šæ•°æ®åº“æ”¯æŒ
- [ ] ä½œä¸šåˆ†ç»„ç®¡ç†
- [ ] æ‰¹é‡æ“ä½œåŠŸèƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒä¸è”ç³»

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶
- å‚ä¸è®¨è®º

## ğŸ™ è‡´è°¢

- [Quartz.Net](https://www.quartz-scheduler.net/) - ä¼˜ç§€çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶
- [Ant Design Vue](https://www.vben.pro/) - ç¾è§‚çš„UIç»„ä»¶åº“
- [.NET](https://dotnet.microsoft.com/) - å¼ºå¤§çš„å¼€å‘å¹³å°

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼**
