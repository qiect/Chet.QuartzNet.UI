import{P as e,b as t,h as o,x as a,c0 as r}from"./bootstrap-BadVN9sI.js";import{T as i}from"./Trigger-84iPrD0t.js";import{a1 as n,L as l,U as s,E as p,p as f,F as c}from"../jse/index-index-Cr7_Iy4w.js";const u={adjustX:1,adjustY:1},v=[0,0],g={topLeft:{points:["bl","tl"],overflow:u,offset:[0,-4],targetOffset:v},topCenter:{points:["bc","tc"],overflow:u,offset:[0,-4],targetOffset:v},topRight:{points:["br","tr"],overflow:u,offset:[0,-4],targetOffset:v},bottomLeft:{points:["tl","bl"],overflow:u,offset:[0,4],targetOffset:v},bottomCenter:{points:["tc","bc"],overflow:u,offset:[0,4],targetOffset:v},bottomRight:{points:["tr","br"],overflow:u,offset:[0,4],targetOffset:v}};const m=n({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:e.string.def("rc-dropdown"),transitionName:String,overlayClassName:e.string.def(""),openClassName:String,animation:e.any,align:e.object,overlayStyle:{type:Object,default:void 0},placement:e.string.def("bottomLeft"),overlay:e.any,trigger:e.oneOfType([e.string,e.arrayOf(e.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:e.array,hideAction:e.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:e.number.def(.15),mouseLeaveDelay:e.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,n){let{slots:u,emit:v,expose:m}=n;const d=l(!!e.visible);s(()=>e.visible,e=>{void 0!==e&&(d.value=e)});const y=l();m({triggerRef:y});const b=t=>{void 0===e.visible&&(d.value=!1),v("overlayClick",t)},C=t=>{void 0===e.visible&&(d.value=t),v("visibleChange",t)},h=()=>{var t;const o=null===(t=u.overlay)||void 0===t?void 0:t.call(u),i={prefixCls:`${e.prefixCls}-menu`,onClick:b};return f(c,{key:r},[e.arrow&&f("div",{class:`${e.prefixCls}-arrow`},null),a(o,i,!1)])},O=p(()=>{const{minOverlayWidthMatchTrigger:t=!e.alignPoint}=e;return t}),w=()=>{var t;const o=null===(t=u.default)||void 0===t?void 0:t.call(u);return d.value&&o?a(o[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):o},x=p(()=>e.hideAction||-1===e.trigger.indexOf("contextmenu")?e.hideAction:["click"]);return()=>{const{prefixCls:a,arrow:r,showAction:n,overlayStyle:l,trigger:s,placement:p,align:c,getPopupContainer:u,transitionName:v,animation:m,overlayClassName:b}=e,P=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o}(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return f(i,t(t({},P),{},{prefixCls:a,ref:y,popupClassName:o(b,{[`${a}-show-arrow`]:r}),popupStyle:l,builtinPlacements:g,action:s,showAction:n,hideAction:x.value||[],popupPlacement:p,popupAlign:c,popupTransitionName:v,popupAnimation:m,popupVisible:d.value,stretch:O.value?"minWidth":"",onPopupVisibleChange:C,getPopupContainer:u}),{popup:h,default:w})}}});export{m as D};
