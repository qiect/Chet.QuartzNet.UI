import{P as e,j as t,_ as n,V as o,b as a,h as l,H as r,J as i,o as d,X as s,Y as c,A as u,K as v,I as p,a0 as y,i as h,m as f,r as g,R as b,ax as k,g as m}from"./bootstrap-YsVmr8JV.js";import{a3 as K,a6 as x,a1 as w,a2 as S,E as O,N as C,p as N,P as $,k as E,aa as P,o as D,L as j,U as T,a8 as A,aS as I,V as L,F as B,ad as F,m as M,ah as H}from"../jse/index-index-Cal9Ay2z.js";import{L as R}from"./index-_ZRekdHt.js";import{c as z,g as G}from"./collapseMotion-dRwoh1gp.js";import{g as _}from"./index-fpW3RkY4.js";function V(e){const t=K();return x(()=>{t.value=e()},{flush:"sync"}),t}const W=Symbol("TreeContextKey"),X=w({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return S(W,O(()=>e.value)),()=>{var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),q=()=>C(W,O(()=>({}))),Y=Symbol("KeysStateKey"),U=()=>C(Y,{expandedKeys:K([]),selectedKeys:K([]),loadedKeys:K([]),loadingKeys:K([]),checkedKeys:K([]),halfCheckedKeys:K([]),expandedKeysSet:O(()=>new Set),selectedKeysSet:O(()=>new Set),loadedKeysSet:O(()=>new Set),loadingKeysSet:O(()=>new Set),checkedKeysSet:O(()=>new Set),halfCheckedKeysSet:O(()=>new Set),flattenNodes:K([])}),J=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const l=`${t}-indent-unit`,r=[];for(let i=0;i<n;i+=1)r.push(N("span",{key:i,class:{[l]:!0,[`${l}-start`]:o[i],[`${l}-end`]:a[i]}},null));return N("span",{"aria-hidden":"true",class:`${t}-indent`},[r])},Q={eventKey:[String,Number],prefixCls:String,title:e.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:e.any,switcherIcon:e.any,domRef:{type:Function}},Z={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},ee=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:e.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:e.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:e.any,switcherIcon:e.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});const te="open",ne="close",oe=w({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Q,isTreeNode:1,setup(e,r){let{attrs:i,slots:d,expose:s}=r;t(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(e=>"`v-slot:"+e+"` ")}instead`);const c=K(!1),u=q(),{expandedKeysSet:v,selectedKeysSet:p,loadedKeysSet:y,loadingKeysSet:h,checkedKeysSet:f,halfCheckedKeysSet:g}=U(),{dragOverNodeKey:b,dropPosition:k,keyEntities:m}=u.value,x=O(()=>ge(e.eventKey,{expandedKeysSet:v.value,selectedKeysSet:p.value,loadedKeysSet:y.value,loadingKeysSet:h.value,checkedKeysSet:f.value,halfCheckedKeysSet:g.value,dragOverNodeKey:b,dropPosition:k,keyEntities:m})),w=V(()=>x.value.expanded),S=V(()=>x.value.selected),C=V(()=>x.value.checked),j=V(()=>x.value.loaded),T=V(()=>x.value.loading),A=V(()=>x.value.halfChecked),I=V(()=>x.value.dragOver),L=V(()=>x.value.dragOverGapTop),B=V(()=>x.value.dragOverGapBottom),F=V(()=>x.value.pos),M=K(),H=O(()=>{const{eventKey:t}=e,{keyEntities:n}=u.value,{children:o}=n[t]||{};return!!(o||[]).length}),R=O(()=>{const{isLeaf:t}=e,{loadData:n}=u.value,o=H.value;return!1!==t&&(t||!n&&!o||n&&j.value&&!o)}),z=O(()=>R.value?null:w.value?te:ne),G=O(()=>{const{disabled:t}=e,{disabled:n}=u.value;return!(!n&&!t)}),_=O(()=>{const{checkable:t}=e,{checkable:n}=u.value;return!(!n||!1===t)&&n}),W=O(()=>{const{selectable:t}=e,{selectable:n}=u.value;return"boolean"==typeof t?t:n}),X=O(()=>{const{data:t,active:o,checkable:a,disableCheckbox:l,disabled:r,selectable:i}=e;return n(n({active:o,checkable:a,disableCheckbox:l,disabled:r,selectable:i},t),{dataRef:t,data:t,isLeaf:R.value,checked:C.value,expanded:w.value,loading:T.value,selected:S.value,halfChecked:A.value})}),Y=E(),Q=O(()=>{const{eventKey:t}=e,{keyEntities:o}=u.value,{parent:a}=o[t]||{};return n(n({},be(n({},e,x.value))),{parent:a})}),Z=$({eventData:Q,eventKey:O(()=>e.eventKey),selectHandle:M,pos:F,key:Y.vnode.key});s(Z);const ee=e=>{const{onNodeDoubleClick:t}=u.value;t(e,Q.value)},oe=t=>{if(G.value)return;const{disableCheckbox:n}=e,{onNodeCheck:o}=u.value;if(!_.value||n)return;t.preventDefault();const a=!C.value;o(t,Q.value,a)},ae=e=>{const{onNodeClick:t}=u.value;t(e,Q.value),W.value?(e=>{if(G.value)return;const{onNodeSelect:t}=u.value;e.preventDefault(),t(e,Q.value)})(e):oe(e)},le=e=>{const{onNodeMouseEnter:t}=u.value;t(e,Q.value)},re=e=>{const{onNodeMouseLeave:t}=u.value;t(e,Q.value)},ie=e=>{const{onNodeContextMenu:t}=u.value;t(e,Q.value)},de=e=>{const{onNodeDragStart:t}=u.value;e.stopPropagation(),c.value=!0,t(e,Z);try{e.dataTransfer.setData("text/plain","")}catch(n){}},se=e=>{const{onNodeDragEnter:t}=u.value;e.preventDefault(),e.stopPropagation(),t(e,Z)},ce=e=>{const{onNodeDragOver:t}=u.value;e.preventDefault(),e.stopPropagation(),t(e,Z)},ue=e=>{const{onNodeDragLeave:t}=u.value;e.stopPropagation(),t(e,Z)},ve=e=>{const{onNodeDragEnd:t}=u.value;e.stopPropagation(),c.value=!1,t(e,Z)},pe=e=>{const{onNodeDrop:t}=u.value;e.preventDefault(),e.stopPropagation(),c.value=!1,t(e,Z)},ye=e=>{const{onNodeExpand:t}=u.value;T.value||t(e,Q.value)},he=()=>{const{draggable:e,prefixCls:t}=u.value;return e&&(null==e?void 0:e.icon)?N("span",{class:`${t}-draggable-icon`},[e.icon]):null},fe=()=>{const{loadData:e,onNodeLoad:t}=u.value;T.value||e&&w.value&&!R.value&&(H.value||j.value||t(Q.value))};P(()=>{fe()}),D(()=>{fe()});const ke=()=>{const{prefixCls:t}=u.value,n=(()=>{var t,n,o;const{switcherIcon:a=d.switcherIcon||(null===(t=u.value.slots)||void 0===t?void 0:t[null===(o=null===(n=e.data)||void 0===n?void 0:n.slots)||void 0===o?void 0:o.switcherIcon])}=e,{switcherIcon:l}=u.value,r=a||l;return"function"==typeof r?r(X.value):r})();if(R.value)return!1!==n?N("span",{class:l(`${t}-switcher`,`${t}-switcher-noop`)},[n]):null;const o=l(`${t}-switcher`,`${t}-switcher_${w.value?te:ne}`);return!1!==n?N("span",{onClick:ye,class:o},[n]):null},me=()=>{var t,n;const{disableCheckbox:o}=e,{prefixCls:a}=u.value,r=G.value;return _.value?N("span",{class:l(`${a}-checkbox`,C.value&&`${a}-checkbox-checked`,!C.value&&A.value&&`${a}-checkbox-indeterminate`,(r||o)&&`${a}-checkbox-disabled`),onClick:oe},[null===(n=(t=u.value).customCheckable)||void 0===n?void 0:n.call(t)]):null},Ke=()=>{const{prefixCls:e}=u.value;return N("span",{class:l(`${e}-iconEle`,`${e}-icon__${z.value||"docu"}`,T.value&&`${e}-icon_loading`)},null)},xe=()=>{const{disabled:t,eventKey:n}=e,{draggable:o,dropLevelOffset:a,dropPosition:l,prefixCls:r,indent:i,dropIndicatorRender:d,dragOverNodeKey:s,direction:c}=u.value;return!t&&!1!==o&&s===n?d({dropPosition:l,dropLevelOffset:a,indent:i,prefixCls:r,direction:c}):null},we=()=>{var t,n,o,a,r,i;const{icon:s=d.icon,data:v}=e,p=d.title||(null===(t=u.value.slots)||void 0===t?void 0:t[null===(o=null===(n=e.data)||void 0===n?void 0:n.slots)||void 0===o?void 0:o.title])||(null===(a=u.value.slots)||void 0===a?void 0:a.title)||e.title,{prefixCls:y,showIcon:h,icon:f,loadData:g}=u.value,b=G.value,k=`${y}-node-content-wrapper`;let m,K;if(h){const e=s||(null===(r=u.value.slots)||void 0===r?void 0:r[null===(i=null==v?void 0:v.slots)||void 0===i?void 0:i.icon])||f;m=e?N("span",{class:l(`${y}-iconEle`,`${y}-icon__customize`)},["function"==typeof e?e(X.value):e]):Ke()}else g&&T.value&&(m=Ke());K="function"==typeof p?p(X.value):p,K=void 0===K?"---":K;const x=N("span",{class:`${y}-title`},[K]);return N("span",{ref:M,title:"string"==typeof p?p:"",class:l(`${k}`,`${k}-${z.value||"normal"}`,!b&&(S.value||c.value)&&`${y}-node-selected`),onMouseenter:le,onMouseleave:re,onContextmenu:ie,onClick:ae,onDblclick:ee},[m,x,xe()])};return()=>{const t=n(n({},e),i),{eventKey:r,isLeaf:d,isStart:s,isEnd:c,domRef:v,active:p,data:y,onMousemove:h,selectable:f}=t,g=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(t,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:b,filterTreeNode:k,keyEntities:m,dropContainerKey:K,dropTargetKey:x,draggingNodeKey:O}=u.value,$=G.value,E=o(g,{aria:!0,data:!0}),{level:P}=m[r]||{},D=c[c.length-1],j=(()=>{const{data:t}=e,{draggable:n}=u.value;return!(!n||n.nodeDraggable&&!n.nodeDraggable(t))})(),F=!$&&j,M=O===r,H=void 0!==f?{"aria-selected":!!f}:void 0;return N("div",a(a({ref:v,class:l(i.class,`${b}-treenode`,{[`${b}-treenode-disabled`]:$,[`${b}-treenode-switcher-${w.value?"open":"close"}`]:!d,[`${b}-treenode-checkbox-checked`]:C.value,[`${b}-treenode-checkbox-indeterminate`]:A.value,[`${b}-treenode-selected`]:S.value,[`${b}-treenode-loading`]:T.value,[`${b}-treenode-active`]:p,[`${b}-treenode-leaf-last`]:D,[`${b}-treenode-draggable`]:F,dragging:M,"drop-target":x===r,"drop-container":K===r,"drag-over":!$&&I.value,"drag-over-gap-top":!$&&L.value,"drag-over-gap-bottom":!$&&B.value,"filter-node":k&&k(Q.value)}),style:i.style,draggable:F,"aria-grabbed":M,onDragstart:F?de:void 0,onDragenter:j?se:void 0,onDragover:j?ce:void 0,onDragleave:j?ue:void 0,onDrop:j?pe:void 0,onDragend:j?ve:void 0,onMousemove:h},H),E),[N(J,{prefixCls:b,level:P,isStart:s,isEnd:c},null),he(),ke(),me(),we()])}}});function ae(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function le(e,t){const n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function re(e){return e.split("-")}function ie(e,t){return`${e}-${t}`}function de(e){if(e.parent){const t=re(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function se(e,t,n,o,a,l,r,i,d,s){var c;const{clientX:u,clientY:v}=e,{top:p,height:y}=e.target.getBoundingClientRect(),h=(("rtl"===s?-1:1)*(((null==a?void 0:a.x)||0)-u)-12)/o;let f=i[n.eventKey];if(v<p+y/2){const e=r.findIndex(e=>e.key===f.key),t=r[e<=0?0:e-1].key;f=i[t]}const g=f.key,b=f,k=f.key;let m=0,K=0;if(!d.has(g))for(let O=0;O<h&&de(f);O+=1)f=f.parent,K+=1;const x=t.eventData,w=f.node;let S=!0;return function(e){const t=re(e.pos);return 0===Number(t[t.length-1])}(f)&&0===f.level&&v<p+y/2&&l({dragNode:x,dropNode:w,dropPosition:-1})&&f.key===n.eventKey?m=-1:(b.children||[]).length&&d.has(k)?l({dragNode:x,dropNode:w,dropPosition:0})?m=0:S=!1:0===K?h>-1.5?l({dragNode:x,dropNode:w,dropPosition:1})?m=1:S=!1:l({dragNode:x,dropNode:w,dropPosition:0})?m=0:l({dragNode:x,dropNode:w,dropPosition:1})?m=1:S=!1:l({dragNode:x,dropNode:w,dropPosition:1})?m=1:S=!1,{dropPosition:m,dropLevelOffset:K,dropTargetKey:f.key,dropTargetPos:f.pos,dragOverNodeKey:k,dropContainerKey:0===m?null:(null===(c=f.parent)||void 0===c?void 0:c.key)||null,dropAllowed:S}}function ce(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function ue(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!=typeof e)return null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function ve(e,t){const n=new Set;function o(e){if(n.has(e))return;const a=t[e];if(!a)return;n.add(e);const{parent:l,node:r}=a;r.disabled||l&&o(l.key)}return(e||[]).forEach(e=>{o(e)}),[...n]}function pe(e,t){return null!=e?e:t}function ye(e){const{title:t,_title:n,key:o,children:a}=e||{},l=t||"title";return{title:l,_title:n||[l],key:o||"key",children:a||"children"}}function he(e){return function e(){return r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>{var o,a,l,r;if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return null;const d=t.children||{},s=t.key,c={};for(const[e,n]of Object.entries(t.props))c[i(e)]=n;const{isLeaf:u,checkable:v,selectable:p,disabled:y,disableCheckbox:h}=c,f={isLeaf:u||""===u||void 0,checkable:v||""===v||void 0,selectable:p||""===p||void 0,disabled:y||""===y||void 0,disableCheckbox:h||""===h||void 0},g=n(n({},c),f),{title:b=(null===(o=d.title)||void 0===o?void 0:o.call(d,g)),icon:k=(null===(a=d.icon)||void 0===a?void 0:a.call(d,g)),switcherIcon:m=(null===(l=d.switcherIcon)||void 0===l?void 0:l.call(d,g))}=c,K=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(c,["title","icon","switcherIcon"]),x=null===(r=d.default)||void 0===r?void 0:r.call(d),w=n(n(n({},K),{title:b,icon:k,switcherIcon:m,key:s,isLeaf:u}),f),S=e(x);return S.length&&(w.children=S),w})}(e)}function fe(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:l,fieldNames:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a||(arguments.length>2?arguments[2]:void 0),d={},s={};let c={posEntities:d,keyEntities:s};return t&&(c=t(c)||c),function(e,t,n){let o={};o="object"==typeof n?n:{externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:l,fieldNames:r}=o,{key:i,children:d}=ye(r),s=a||d;let c;l?"string"==typeof l?c=e=>e[l]:"function"==typeof l&&(c=e=>l(e)):c=(e,t)=>pe(e[i],t),function n(o,a,l,r){const i=o?o[s]:e,d=o?ie(l.pos,a):"0",u=o?[...r,o]:[];if(o){const e=c(o,d),n={node:o,index:a,pos:d,key:e,parentPos:l.node?l.pos:null,level:l.level+1,nodes:u};t(n)}i&&i.forEach((e,t)=>{n(e,t,{node:o,pos:d,level:l?l.level+1:-1},u)})}(null)}(e,e=>{const{node:t,index:o,pos:a,key:l,parentPos:r,level:i,nodes:u}=e,v={node:t,nodes:u,index:o,key:l,pos:a,level:i},p=pe(l,a);d[a]=v,s[p]=v,v.parent=d[r],v.parent&&(v.parent.children=v.parent.children||[],v.parent.children.push(v)),n&&n(v,c)},{externalGetKey:i,childrenPropName:l,fieldNames:r}),o&&o(c),c}function ge(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:l,checkedKeysSet:r,halfCheckedKeysSet:i,dragOverNodeKey:d,dropPosition:s,keyEntities:c}=t;const u=c[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:l.has(e),checked:r.has(e),halfChecked:i.has(e),pos:String(u?u.pos:""),parent:u.parent,dragOver:d===e&&0===s,dragOverGapTop:d===e&&-1===s,dragOverGapBottom:d===e&&1===s}}function be(e){const{data:t,expanded:o,selected:a,checked:l,loaded:r,loading:i,halfChecked:d,dragOver:s,dragOverGapTop:c,dragOverGapBottom:u,pos:v,active:p,eventKey:y}=e,h=n(n({dataRef:t},t),{expanded:o,selected:a,checked:l,loaded:r,loading:i,halfChecked:d,dragOver:s,dragOverGapTop:c,dragOverGapBottom:u,pos:v,active:p,eventKey:y,key:y});return"props"in h||Object.defineProperty(h,"props",{get:()=>e}),h}function ke(e,t){const n=new Set;return e.forEach(e=>{t.has(e)||n.add(e)}),n}function me(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!(!t&&!n)||!1===o}function Ke(e,t,n,o,a,l){let r;r=l||me;const i=new Set(e.filter(e=>!!n[e]));let d;return d=!0===t?function(e,t,n,o){const a=new Set(e),l=new Set;for(let i=0;i<=n;i+=1)(t.get(i)||new Set).forEach(e=>{const{key:t,node:n,children:l=[]}=e;a.has(t)&&!o(n)&&l.filter(e=>!o(e.node)).forEach(e=>{a.add(e.key)})});const r=new Set;for(let i=n;i>=0;i-=1)(t.get(i)||new Set).forEach(e=>{const{parent:t,node:n}=e;if(o(n)||!e.parent||r.has(e.parent.key))return;if(o(e.parent.node))return void r.add(t.key);let i=!0,d=!1;(t.children||[]).filter(e=>!o(e.node)).forEach(e=>{let{key:t}=e;const n=a.has(t);i&&!n&&(i=!1),d||!n&&!l.has(t)||(d=!0)}),i&&a.add(t.key),d&&l.add(t.key),r.add(t.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ke(l,a))}}(i,a,o,r):function(e,t,n,o,a){const l=new Set(e);let r=new Set(t);for(let d=0;d<=o;d+=1)(n.get(d)||new Set).forEach(e=>{const{key:t,node:n,children:o=[]}=e;l.has(t)||r.has(t)||a(n)||o.filter(e=>!a(e.node)).forEach(e=>{l.delete(e.key)})});r=new Set;const i=new Set;for(let d=o;d>=0;d-=1)(n.get(d)||new Set).forEach(e=>{const{parent:t,node:n}=e;if(a(n)||!e.parent||i.has(e.parent.key))return;if(a(e.parent.node))return void i.add(t.key);let o=!0,d=!1;(t.children||[]).filter(e=>!a(e.node)).forEach(e=>{let{key:t}=e;const n=l.has(t);o&&!n&&(o=!1),d||!n&&!r.has(t)||(d=!0)}),o||l.delete(t.key),d&&r.add(t.key),i.add(t.key)});return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(ke(r,l))}}(i,t.halfCheckedKeys,a,o,r),d}function xe(e){const t=j(0),n=K();return x(()=>{const o=new Map;let a=0;const l=e.value||{};for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e)){const t=l[e],{level:n}=t;let r=o.get(n);r||(r=new Set,o.set(n,r)),r.add(t),a=Math.max(a,n)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}var we=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};const Se=w({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:n(n({},Q),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const l=K(!0),r=q(),i=K(!1),d=O(()=>e.motion?e.motion:z()),u=(t,n)=>{var o,a,l,r;"appear"===n?null===(a=null===(o=d.value)||void 0===o?void 0:o.onAfterEnter)||void 0===a||a.call(o,t):"leave"===n&&(null===(r=null===(l=d.value)||void 0===l?void 0:l.onAfterLeave)||void 0===r||r.call(l,t)),i.value||e.onMotionEnd(),i.value=!0};return T(()=>e.motionNodes,()=>{e.motionNodes&&"hide"===e.motionType&&l.value&&L(()=>{l.value=!1})},{immediate:!0,flush:"post"}),P(()=>{e.motionNodes&&e.onMotionStart()}),A(()=>{e.motionNodes&&u()}),()=>{const{motion:t,motionNodes:i,motionType:v,active:p,eventKey:y}=e,h=we(e,["motion","motionNodes","motionType","active","eventKey"]);return i?N(s,a(a({},d.value),{},{appear:"show"===v,onAfterAppear:e=>u(e,"appear"),onAfterLeave:e=>u(e,"leave")}),{default:()=>[I(N("div",{class:`${r.value.prefixCls}-treenode-motion`},[i.map(e=>{const t=we(e.data,[]),{title:n,key:l,isStart:r,isEnd:i}=e;return delete t.children,N(oe,a(a({},t),{},{title:n,active:p,data:e.data,key:l,eventKey:l,isStart:r,isEnd:i}),o)})]),[[c,l.value]])]}):N(oe,a(a({class:n.class,style:n.style},h),{},{active:p,eventKey:y}),o)}}});function Oe(e,t,n){const o=e.findIndex(e=>e.key===n),a=e[o+1],l=t.findIndex(e=>e.key===n);if(a){const e=t.findIndex(e=>e.key===a.key);return t.slice(l+1,e)}return t.slice(l+1)}var Ce=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};const Ne={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},$e=()=>{},Ee=`RC_TREE_MOTION_${Math.random()}`,Pe={key:Ee},De={key:Ee,level:0,index:0,pos:"0",node:Pe,nodes:[Pe]},je={parent:null,children:[],pos:De.pos,data:Pe,title:null,key:Ee,isStart:[],isEnd:[]};function Te(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Ae(e){const{key:t,pos:n}=e;return pe(t,n)}function Ie(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const Le=w({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Z,setup(e,t){let{expose:o,attrs:l}=t;const r=j(),i=j(),{expandedKeys:s,flattenNodes:c}=U();o({scrollTo:e=>{r.value.scrollTo(e)},getIndentWidth:()=>i.value.offsetWidth});const u=K(c.value),v=K([]),p=j(null);function y(){u.value=c.value,v.value=[],p.value=null,e.onListChangeEnd()}const h=q();T([()=>s.value.slice(),c],(t,n)=>{let[o,a]=t,[l,r]=n;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function a(e,t){const n=new Map;e.forEach(e=>{n.set(e,!0)});const o=t.filter(e=>!n.has(e));return 1===o.length?o[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}(l,o);if(null!==i.key){const{virtual:t,height:n,itemHeight:o}=e;if(i.add){const e=r.findIndex(e=>{let{key:t}=e;return t===i.key}),l=Te(Oe(r,a,i.key),t,n,o),d=r.slice();d.splice(e+1,0,je),u.value=d,v.value=l,p.value="show"}else{const e=a.findIndex(e=>{let{key:t}=e;return t===i.key}),l=Te(Oe(a,r,i.key),t,n,o),d=a.slice();d.splice(e+1,0,je),u.value=d,v.value=l,p.value="hide"}}else r!==a&&(u.value=a)}),T(()=>h.value.dragging,e=>{e||y()});const f=O(()=>void 0===e.motion?u.value:c.value),g=()=>{e.onActiveChange(null)};return()=>{const t=n(n({},e),l),{prefixCls:o,selectable:s,checkable:c,disabled:u,motion:h,height:b,itemHeight:k,virtual:m,focusable:K,activeItem:x,focused:w,tabindex:S,onKeydown:O,onFocus:C,onBlur:$,onListChangeStart:E,onListChangeEnd:P}=t,D=Ce(t,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return N(B,null,[w&&x&&N("span",{style:Ne,"aria-live":"assertive"},[Ie(x)]),N("div",null,[N("input",{style:Ne,disabled:!1===K||u,tabindex:!1!==K?S:null,onKeydown:O,onFocus:C,onBlur:$,value:"",onChange:$e,"aria-label":"for screen reader"},null)]),N("div",{class:`${o}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[N("div",{class:`${o}-indent`},[N("div",{ref:i,class:`${o}-indent-unit`},null)])]),N(R,a(a({},d(D,["onActiveChange"])),{},{data:f.value,itemKey:Ae,height:b,fullHeight:!1,virtual:m,itemHeight:k,prefixCls:`${o}-list`,ref:r,onVisibleChange:(e,t)=>{const n=new Set(e);t.filter(e=>!n.has(e)).some(e=>Ae(e)===Ee)&&y()}}),{default:e=>{const{pos:t}=e,n=Ce(e.data,[]),{title:o,key:l,isStart:r,isEnd:i}=e,d=pe(l,t);return delete n.key,delete n.children,N(Se,a(a({},n),{},{eventKey:d,title:o,active:!!x&&l===x.key,data:e.data,isStart:r,isEnd:i,motion:h,motionNodes:l===Ee?v.value:null,motionType:p.value,onMotionStart:E,onMotionEnd:y,onMousemove:g}),null)}})])}}});const Be=w({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:u(ee(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=-n*o+"px";break;case 1:a.bottom=0,a.left=-n*o+"px";break;case 0:a.bottom=0,a.left=`${o}`}return N("div",{style:a},null)},allowDrop:()=>!0}),setup(e,t){let{attrs:r,slots:i,expose:s}=t;const c=K(!1);let u={};const p=K(),y=K([]),h=K([]),f=K([]),g=K([]),b=K([]),k=K([]),m={},w=$({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),C=K([]);T([()=>e.treeData,()=>e.children],()=>{C.value=void 0!==e.treeData?e.treeData.slice():he(M(e.children))},{immediate:!0,deep:!0});const E=K({}),P=K(!1),D=K(null),j=K(!1),A=O(()=>ye(e.fieldNames)),I=K();let B=null,H=null,R=null;const z=O(()=>({expandedKeysSet:G.value,selectedKeysSet:_.value,loadedKeysSet:V.value,loadingKeysSet:W.value,checkedKeysSet:q.value,halfCheckedKeysSet:U.value,dragOverNodeKey:w.dragOverNodeKey,dropPosition:w.dropPosition,keyEntities:E.value})),G=O(()=>new Set(k.value)),_=O(()=>new Set(y.value)),V=O(()=>new Set(g.value)),W=O(()=>new Set(b.value)),q=O(()=>new Set(h.value)),U=O(()=>new Set(f.value));x(()=>{if(C.value){const e=fe(C.value,{fieldNames:A.value});E.value=n({[Ee]:De},e.keyEntities)}});let J=!1;T([()=>e.expandedKeys,()=>e.autoExpandParent,E],(t,o)=>{let[a,l]=t,[r,i]=o,d=k.value;if(void 0!==e.expandedKeys||J&&l!==i)d=e.autoExpandParent||!J&&e.defaultExpandParent?ve(e.expandedKeys,E.value):e.expandedKeys;else if(!J&&e.defaultExpandAll){const e=n({},E.value);delete e[Ee],d=Object.keys(e).map(t=>e[t].key)}else!J&&e.defaultExpandedKeys&&(d=e.autoExpandParent||e.defaultExpandParent?ve(e.defaultExpandedKeys,E.value):e.defaultExpandedKeys);d&&(k.value=d),J=!0},{immediate:!0});const Q=K([]);x(()=>{Q.value=function(e,t,o){const{_title:a,key:l,children:r}=ye(o),i=new Set(!0===t?[]:t),s=[];return function e(o){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map((u,v)=>{const p=ie(c?c.pos:"0",v),y=pe(u[l],p);let h;for(let e=0;e<a.length;e+=1){const t=a[e];if(void 0!==u[t]){h=u[t];break}}const f=n(n({},d(u,[...a,l,r])),{title:h,key:y,parent:c,pos:p,children:null,data:u,isStart:[...c?c.isStart:[],0===v],isEnd:[...c?c.isEnd:[],v===o.length-1]});return s.push(f),!0===t||i.has(y)?f.children=e(u[r]||[],f):f.children=[],f})}(e),s}(C.value,k.value,A.value)}),x(()=>{e.selectable&&(void 0!==e.selectedKeys?y.value=ce(e.selectedKeys,e):!J&&e.defaultSelectedKeys&&(y.value=ce(e.defaultSelectedKeys,e)))});const{maxLevel:Z,levelEntities:ee}=xe(E);x(()=>{if(e.checkable){let t;if(void 0!==e.checkedKeys?t=ue(e.checkedKeys)||{}:!J&&e.defaultCheckedKeys?t=ue(e.defaultCheckedKeys)||{}:C.value&&(t=ue(e.checkedKeys)||{checkedKeys:h.value,halfCheckedKeys:f.value}),t){let{checkedKeys:n=[],halfCheckedKeys:o=[]}=t;if(!e.checkStrictly){const e=Ke(n,!0,E.value,Z.value,ee.value);({checkedKeys:n,halfCheckedKeys:o}=e)}h.value=n,f.value=o}}}),x(()=>{e.loadedKeys&&(g.value=e.loadedKeys)});const te=()=>{n(w,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ne=e=>{I.value.scrollTo(e)};T(()=>e.activeKey,()=>{void 0!==e.activeKey&&(D.value=e.activeKey)},{immediate:!0}),T(D,e=>{L(()=>{null!==e&&ne({key:e})})},{immediate:!0,flush:"post"});const oe=t=>{void 0===e.expandedKeys&&(k.value=t)},de=()=>{null!==w.draggingNodeKey&&n(w,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),B=null,R=null},ke=(t,n)=>{const{onDragend:o}=e;w.dragOverNodeKey=null,de(),null==o||o({event:t,node:n.eventData}),H=null},me=e=>{ke(e,null),window.removeEventListener("dragend",me)},we=(t,n)=>{const{onDragstart:o}=e,{eventKey:a,eventData:l}=n;H=n,B={x:t.clientX,y:t.clientY};const r=ae(k.value,a);w.draggingNodeKey=a,w.dragChildrenKeys=function(e,t){const n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{let{key:o,children:a}=t;n.push(o),e(a)})}(t[e].children),n}(a,E.value),p.value=I.value.getIndentWidth(),oe(r),window.addEventListener("dragend",me),o&&o({event:t,node:l})},Se=(t,o)=>{const{onDragenter:a,onExpand:l,allowDrop:r,direction:i}=e,{pos:d,eventKey:s}=o;if(R!==s&&(R=s),!H)return void te();const{dropPosition:c,dropLevelOffset:v,dropTargetKey:y,dropContainerKey:h,dropTargetPos:f,dropAllowed:g,dragOverNodeKey:b}=se(t,H,o,p.value,B,r,Q.value,E.value,G.value,i);-1===w.dragChildrenKeys.indexOf(y)&&g?(u||(u={}),Object.keys(u).forEach(e=>{clearTimeout(u[e])}),H.eventKey!==o.eventKey&&(u[d]=window.setTimeout(()=>{if(null===w.draggingNodeKey)return;let e=k.value.slice();const n=E.value[o.eventKey];n&&(n.children||[]).length&&(e=le(k.value,o.eventKey)),oe(e),l&&l(e,{node:o.eventData,expanded:!0,nativeEvent:t})},800)),H.eventKey!==y||0!==v?(n(w,{dragOverNodeKey:b,dropPosition:c,dropLevelOffset:v,dropTargetKey:y,dropContainerKey:h,dropTargetPos:f,dropAllowed:g}),a&&a({event:t,node:o.eventData,expandedKeys:k.value})):te()):te()},Oe=(t,o)=>{const{onDragover:a,allowDrop:l,direction:r}=e;if(!H)return;const{dropPosition:i,dropLevelOffset:d,dropTargetKey:s,dropContainerKey:c,dropAllowed:u,dropTargetPos:v,dragOverNodeKey:y}=se(t,H,o,p.value,B,l,Q.value,E.value,G.value,r);-1===w.dragChildrenKeys.indexOf(s)&&u&&(H.eventKey===s&&0===d?null===w.dropPosition&&null===w.dropLevelOffset&&null===w.dropTargetKey&&null===w.dropContainerKey&&null===w.dropTargetPos&&!1===w.dropAllowed&&null===w.dragOverNodeKey||te():i===w.dropPosition&&d===w.dropLevelOffset&&s===w.dropTargetKey&&c===w.dropContainerKey&&v===w.dropTargetPos&&u===w.dropAllowed&&y===w.dragOverNodeKey||n(w,{dropPosition:i,dropLevelOffset:d,dropTargetKey:s,dropContainerKey:c,dropTargetPos:v,dropAllowed:u,dragOverNodeKey:y}),a&&a({event:t,node:o.eventData}))},Ce=(t,n)=>{R!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(te(),R=null);const{onDragleave:o}=e;o&&o({event:t,node:n.eventData})},Ne=function(t,o){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var l;const{dragChildrenKeys:r,dropPosition:i,dropTargetKey:d,dropTargetPos:s,dropAllowed:c}=w;if(!c)return;const{onDrop:u}=e;if(w.dragOverNodeKey=null,de(),null===d)return;const v=n(n({},ge(d,M(z.value))),{active:(null===(l=We.value)||void 0===l?void 0:l.key)===d,data:E.value[d].node});r.indexOf(d);const p=re(s),y={event:t,node:be(v),dragNode:H?H.eventData:null,dragNodesKeys:[H.eventKey].concat(r),dropToGap:0!==i,dropPosition:i+Number(p[p.length-1])};a||null==u||u(y),H=null},$e=(e,t)=>{const{expanded:o,key:a}=t,l=Q.value.filter(e=>e.key===a)[0],r=be(n(n({},ge(a,z.value)),{data:l.data}));oe(o?ae(k.value,a):le(k.value,a)),ze(e,r)},Pe=(t,n)=>{const{onClick:o,expandAction:a}=e;"click"===a&&$e(t,n),o&&o(t,n)},je=(t,n)=>{const{onDblclick:o,expandAction:a}=e;"doubleclick"!==a&&"dblclick"!==a||$e(t,n),o&&o(t,n)},Te=(t,n)=>{let o=y.value;const{onSelect:a,multiple:l}=e,{selected:r}=n,i=n[A.value.key],d=!r;o=d?l?le(o,i):[i]:ae(o,i);const s=E.value,c=o.map(e=>{const t=s[e];return t?t.node:null}).filter(e=>e);void 0===e.selectedKeys&&(y.value=o),a&&a(o,{event:"select",selected:d,node:n,selectedNodes:c,nativeEvent:t})},Ae=(t,n,o)=>{const{checkStrictly:a,onCheck:l}=e,r=n[A.value.key];let i;const d={event:"check",node:n,checked:o,nativeEvent:t},s=E.value;if(a){const t=o?le(h.value,r):ae(h.value,r);i={checked:t,halfChecked:ae(f.value,r)},d.checkedNodes=t.map(e=>s[e]).filter(e=>e).map(e=>e.node),void 0===e.checkedKeys&&(h.value=t)}else{let{checkedKeys:t,halfCheckedKeys:n}=Ke([...h.value,r],!0,s,Z.value,ee.value);if(!o){const e=new Set(t);e.delete(r),({checkedKeys:t,halfCheckedKeys:n}=Ke(Array.from(e),{halfCheckedKeys:n},s,Z.value,ee.value))}i=t,d.checkedNodes=[],d.checkedNodesPositions=[],d.halfCheckedKeys=n,t.forEach(e=>{const t=s[e];if(!t)return;const{node:n,pos:o}=t;d.checkedNodes.push(n),d.checkedNodesPositions.push({node:n,pos:o})}),void 0===e.checkedKeys&&(h.value=t,f.value=n)}l&&l(i,d)},Ie=t=>{const n=t[A.value.key],o=new Promise((o,a)=>{const{loadData:l,onLoad:r}=e;if(!l||V.value.has(n)||W.value.has(n))return null;l(t).then(()=>{const a=le(g.value,n),l=ae(b.value,n);r&&r(a,{event:"load",node:t}),void 0===e.loadedKeys&&(g.value=a),b.value=l,o()}).catch(t=>{const l=ae(b.value,n);if(b.value=l,m[n]=(m[n]||0)+1,m[n]>=10){const t=le(g.value,n);void 0===e.loadedKeys&&(g.value=t),o()}a(t)}),b.value=le(b.value,n)});return o.catch(()=>{}),o},Be=(t,n)=>{const{onMouseenter:o}=e;o&&o({event:t,node:n})},Fe=(t,n)=>{const{onMouseleave:o}=e;o&&o({event:t,node:n})},Me=(t,n)=>{const{onRightClick:o}=e;o&&(t.preventDefault(),o({event:t,node:n}))},He=t=>{const{onFocus:n}=e;P.value=!0,n&&n(t)},Re=t=>{const{onBlur:n}=e;P.value=!1,Ve(null),n&&n(t)},ze=(t,n)=>{let o=k.value;const{onExpand:a,loadData:l}=e,{expanded:r}=n,i=n[A.value.key];if(j.value)return;o.indexOf(i);const d=!r;if(o=d?le(o,i):ae(o,i),oe(o),a&&a(o,{node:n,expanded:d,nativeEvent:t}),d&&l){const e=Ie(n);e&&e.then(()=>{}).catch(e=>{const t=ae(k.value,i);oe(t),Promise.reject(e)})}},Ge=()=>{j.value=!0},_e=()=>{setTimeout(()=>{j.value=!1})},Ve=t=>{const{onActiveChange:n}=e;D.value!==t&&(void 0!==e.activeKey&&(D.value=t),null!==t&&ne({key:t}),n&&n(t))},We=O(()=>null===D.value?null:Q.value.find(e=>{let{key:t}=e;return t===D.value})||null),Xe=e=>{let t=Q.value.findIndex(e=>{let{key:t}=e;return t===D.value});-1===t&&e<0&&(t=Q.value.length),t=(t+e+Q.value.length)%Q.value.length;const n=Q.value[t];if(n){const{key:e}=n;Ve(e)}else Ve(null)},qe=O(()=>be(n(n({},ge(D.value,z.value)),{data:We.value.data,active:!0}))),Ye=t=>{const{onKeydown:n,checkable:o,selectable:a}=e;switch(t.which){case v.UP:Xe(-1),t.preventDefault();break;case v.DOWN:Xe(1),t.preventDefault()}const l=We.value;if(l&&l.data){const e=!1===l.data.isLeaf||!!(l.data.children||[]).length,n=qe.value;switch(t.which){case v.LEFT:e&&G.value.has(D.value)?ze({},n):l.parent&&Ve(l.parent.key),t.preventDefault();break;case v.RIGHT:e&&!G.value.has(D.value)?ze({},n):l.children&&l.children.length&&Ve(l.children[0].key),t.preventDefault();break;case v.ENTER:case v.SPACE:!o||n.disabled||!1===n.checkable||n.disableCheckbox?o||!a||n.disabled||!1===n.selectable||Te({},n):Ae({},n,!q.value.has(D.value))}}n&&n(t)};return s({onNodeExpand:ze,scrollTo:ne,onKeydown:Ye,selectedKeys:O(()=>y.value),checkedKeys:O(()=>h.value),halfCheckedKeys:O(()=>f.value),loadedKeys:O(()=>g.value),loadingKeys:O(()=>b.value),expandedKeys:O(()=>k.value)}),F(()=>{window.removeEventListener("dragend",me),c.value=!0}),S(Y,{expandedKeys:k,selectedKeys:y,loadedKeys:g,loadingKeys:b,checkedKeys:h,halfCheckedKeys:f,expandedKeysSet:G,selectedKeysSet:_,loadedKeysSet:V,loadingKeysSet:W,checkedKeysSet:q,halfCheckedKeysSet:U,flattenNodes:Q}),()=>{const{draggingNodeKey:t,dropLevelOffset:d,dropContainerKey:s,dropTargetKey:c,dropPosition:u,dragOverNodeKey:v}=w,{prefixCls:y,showLine:h,focusable:f,tabindex:g=0,selectable:b,showIcon:k,icon:m=i.icon,switcherIcon:K,draggable:x,checkable:S,checkStrictly:O,disabled:C,motion:$,loadData:j,filterTreeNode:T,height:A,itemHeight:L,virtual:B,dropIndicatorRender:F,onContextmenu:M,onScroll:H,direction:R,rootClassName:z,rootStyle:G}=e,{class:_,style:V}=r,W=o(n(n({},e),r),{aria:!0,data:!0});let q;return q=!!x&&("object"==typeof x?x:"function"==typeof x?{nodeDraggable:x}:{}),N(X,{value:{prefixCls:y,selectable:b,showIcon:k,icon:m,switcherIcon:K,draggable:q,draggingNodeKey:t,checkable:S,customCheckable:i.checkable,checkStrictly:O,disabled:C,keyEntities:E.value,dropLevelOffset:d,dropContainerKey:s,dropTargetKey:c,dropPosition:u,dragOverNodeKey:v,dragging:null!==t,indent:p.value,direction:R,dropIndicatorRender:F,loadData:j,filterTreeNode:T,onNodeClick:Pe,onNodeDoubleClick:je,onNodeExpand:ze,onNodeSelect:Te,onNodeCheck:Ae,onNodeLoad:Ie,onNodeMouseEnter:Be,onNodeMouseLeave:Fe,onNodeContextMenu:Me,onNodeDragStart:we,onNodeDragEnter:Se,onNodeDragOver:Oe,onNodeDragLeave:Ce,onNodeDragEnd:ke,onNodeDrop:Ne,slots:i}},{default:()=>[N("div",{role:"tree",class:l(y,_,z,{[`${y}-show-line`]:h,[`${y}-focused`]:P.value,[`${y}-active-focused`]:null!==D.value}),style:G},[N(Le,a({ref:I,prefixCls:y,style:V,disabled:C,selectable:b,checkable:!!S,motion:$,height:A,itemHeight:L,virtual:B,focusable:f,focused:P.value,tabindex:g,activeItem:We.value,onFocus:He,onBlur:Re,onKeydown:Ye,onActiveChange:Ve,onListChangeStart:Ge,onListChangeEnd:_e,onContextmenu:M,onScroll:H},W),null)])]})}}});var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){He(e,t,n[t])})}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e,t){var n=Me({},e,t.attrs);return N(p,Me({},n,{icon:Fe}),null)};Re.displayName="FileOutlined",Re.inheritAttrs=!1;var ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_e(e,t,n[t])})}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e,t){var n=Ge({},e,t.attrs);return N(p,Ge({},n,{icon:ze}),null)};Ve.displayName="MinusSquareOutlined",Ve.inheritAttrs=!1;var We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){qe(e,t,n[t])})}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e,t){var n=Xe({},e,t.attrs);return N(p,Xe({},n,{icon:We}),null)};Ye.displayName="PlusSquareOutlined",Ye.inheritAttrs=!1;var Ue={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Qe(e,t,n[t])})}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e,t){var n=Je({},e,t.attrs);return N(p,Je({},n,{icon:Ue}),null)};function et(e,t,o,a,l){const{isLeaf:r,expanded:i,loading:d}=o;let s,c=t;if(d)return N(y,{class:`${e}-switcher-loading-icon`},null);l&&"object"==typeof l&&(s=l.showLeafIcon);let u=null;const v=`${e}-switcher-icon`;return r?l?s&&a?a(o):(u="object"!=typeof l||s?N(Re,{class:`${e}-switcher-line-icon`},null):N("span",{class:`${e}-switcher-leaf-line`},null),u):null:(u=N(Ze,{class:v},null),l&&(u=N(i?Ve:Ye,{class:`${e}-switcher-line-icon`},null)),"function"==typeof t?c=t(n(n({},o),{defaultIcon:u,switcherCls:v})):h(c)&&(c=H(c,{class:v})),c||u)}Ze.displayName="CaretDownFilled",Ze.inheritAttrs=!1;const tt=new b("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),nt=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),ot=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),at=(e,t)=>{const{treeCls:o,treeNodeCls:a,treeNodePadding:l,treeTitleHeight:r}=t,i=(r-t.fontSizeLG)/2,d=t.paddingXS;return{[o]:n(n({},g(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${o}-rtl`]:{[`${o}-switcher`]:{"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${o}-active-focused)`]:n({},k(t)),[`${o}-list-holder-inner`]:{alignItems:"flex-start"},[`&${o}-block-node`]:{[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-node-content-wrapper`]:{flex:"auto"},[`${a}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:tt,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${a}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${l}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${o}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${o}-node-content-wrapper`]:n({},k(t)),[`&:not(${a}-disabled).filter-node ${o}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${o}-draggable-icon`]:{width:r,lineHeight:`${r}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${a}:hover &`]:{opacity:.45}},[`&${a}-disabled`]:{[`${o}-draggable-icon`]:{visibility:"hidden"}}}},[`${o}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},[`${o}-draggable-icon`]:{visibility:"hidden"},[`${o}-switcher`]:n(n({},nt(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:`${r}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r/2*.8,height:r/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${o}-checkbox`]:{top:"initial",marginInlineEnd:d,marginBlockStart:i},[`${o}-node-content-wrapper, ${o}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${r}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${o}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${o}-iconEle`]:{display:"inline-block",width:r,height:r,lineHeight:`${r}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${o}-unselectable ${o}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}-node-content-wrapper`]:n({lineHeight:`${r}px`,userSelect:"none"},ot(e,t)),[`${a}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${o}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${o}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${a}-leaf-last`]:{[`${o}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:r/2+"px !important"}}}}})}},lt=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},rt=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,l=t.controlHeightSM,r=f(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:l});return[at(e,r),lt(r)]},it=m("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:_(`${n}-checkbox`,e)},rt(n,e),G(e)]});export{Re as F,Be as T,oe as V,Ke as a,ae as b,fe as c,le as d,V as e,it as f,rt as g,he as h,ye as i,ve as j,et as r,ee as t,xe as u};
