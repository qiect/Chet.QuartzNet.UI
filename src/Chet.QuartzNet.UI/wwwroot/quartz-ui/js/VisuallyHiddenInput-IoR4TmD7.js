var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=e=>{throw TypeError(e)},i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,u=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&i(e,r,t[r]);return e},s=(e,n)=>t(e,r(n)),c=(e,t,r)=>(((e,t,r)=>{t.has(e)||l("Cannot "+r)})(e,t,"read from private field"),r?r.call(e):t.get(e));import{bq as d,bU as f,bx as p,bV as v,bh as y,bC as m,bc as b,bd as h,bf as g,bg as A,bs as $}from"./bootstrap-YsVmr8JV.js";import{L as w,E as S,N as I,a1 as j,a6 as E,f as O,U as q,M as x,a2 as T,W as F,ai as B,aj as C,ak as k,p as z,a9 as M,al as R,aa as U,ad as P,V as D,ag as _,as as V,an as L,F as K,aV as N}from"../jse/index-index-Cal9Ay2z.js";function H(e){return"string"==typeof e?`'${e}'`:(new W).serialize(e)}const W=function(){var e;class t{constructor(){var t,r,n;t=this,r=e,n=new Map,r.has(t)?l("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,n)}compare(e,t){const r=typeof e,n=typeof t;return"string"===r&&"string"===n?e.localeCompare(t):"number"===r&&"number"===n?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const r=e.constructor,n=r===Object||void 0===r?"":r.name;if(""!==n&&globalThis[n]===r)return this.serializeBuiltInType(n,e);if("function"==typeof e.toJSON){const t=e.toJSON();return n+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(n,Object.entries(e))}serializeBuiltInType(e,t){const r=this["$"+e];if(r)return r.call(this,t);if("function"==typeof(null==t?void 0:t.entries))return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const r=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let n=`${e}{`;for(let a=0;a<r.length;a++){const[e,t]=r[a];n+=`${this.serialize(e,!0)}:${this.serialize(t)}`,a<r.length-1&&(n+=",")}return n+"}"}$object(t){let r=c(this,e).get(t);return void 0===r&&(c(this,e).set(t,`#${c(this,e).size}`),r=this.serializeObject(t),c(this,e).set(t,r)),r}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let r=0;r<e.length;r++)t+=this.serialize(e[r]),r<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch(t){return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}e=new WeakMap;for(const r of["Error","RegExp","URL"])t.prototype["$"+r]=function(e){return`${r}(${e})`};for(const r of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+r]=function(e){return`${r}[${e.join(",")}]`};for(const r of["BigInt64Array","BigUint64Array"])t.prototype["$"+r]=function(e){return`${r}[${e.join("n,")}${e.length>0?"n":""}]`};return t}();function G(e,t){return e===t||H(e)===H(t)}function J(e){return null==e}function X(e,t){return!J(e)&&(Array.isArray(e)?e.some(e=>G(e,t)):G(e,t))}const Y=["INPUT","TEXTAREA"];function Q(e,t,r,n={}){if(!t||n.enableIgnoredElement&&Y.includes(t.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:o="[data-reka-collection-item]",itemsArray:l=[],loop:i=!0,dir:u="ltr",preventScroll:s=!0,focus:c=!1}=n,[d,f,p,v,y,m]=["ArrowRight"===e.key,"ArrowLeft"===e.key,"ArrowUp"===e.key,"ArrowDown"===e.key,"Home"===e.key,"End"===e.key],b=p||v,h=d||f;if(!y&&!m&&(!b&&!h||"vertical"===a&&h||"horizontal"===a&&b))return null;const g=r?Array.from(r.querySelectorAll(o)):l;if(!g.length)return null;s&&e.preventDefault();let A=null;if(h||b){A=Z(g,t,{goForward:b?v:"ltr"===u?d:f,loop:i})}else y?A=g.at(0)||null:m&&(A=g.at(-1)||null);return c&&(null==A||A.focus()),A}function Z(e,t,r,n=e.length){if(0===--n)return null;const a=e.indexOf(t),o=r.goForward?a+1:a-1;if(!r.loop&&(o<0||o>=e.length))return null;const l=e[(o+e.length)%e.length];if(!l)return null;return l.hasAttribute("disabled")&&"false"!==l.getAttribute("disabled")?Z(e,l,r,n):l}function ee(e){const t=d({dir:w("ltr")});return S(()=>{var r;return(null==e?void 0:e.value)||(null==(r=t.dir)?void 0:r.value)||"ltr"})}function te(e){return S(()=>{var t;return!f(e)||Boolean(null==(t=p(e))?void 0:t.closest("form"))})}function re(e){const t=v("",1e3);return{search:t,handleTypeaheadSearch:(e,r)=>{t.value=t.value+e;{const e=y(),n=r.map(e=>{var t,r,n,a;return s(u({},e),{textValue:null!=(a=null!=(n=null==(t=e.value)?void 0:t.textValue)?n:null==(r=e.ref.textContent)?void 0:r.trim())?a:""})}),a=n.find(t=>t.ref===e),o=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),a=n?t[0]:t,o=r?e.indexOf(r):-1;let l=(i=e,u=Math.max(o,0),i.map((e,t)=>i[(u+t)%i.length]));var i,u;1===a.length&&(l=l.filter(e=>e!==r));const s=l.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(n.map(e=>e.textValue),t.value,null==a?void 0:a.textValue),l=n.find(e=>e.textValue===o);return l&&l.ref.focus(),null==l?void 0:l.ref}},resetTypeahead:()=>{t.value=""}}}function ne(){const e=w(),t=S(()=>{var t,r;return["#text","#comment"].includes(null==(t=e.value)?void 0:t.$el.nodeName)?null==(r=e.value)?void 0:r.$el.nextElementSibling:p(e)});return{primitiveElement:e,currentElement:t}}const ae="menu.itemSelect",oe=["Enter"," "],le=["ArrowUp","PageDown","End"],ie=["ArrowDown","PageUp","Home",...le];function ue(e){return e?"open":"closed"}function se(e){const t=y();for(const r of e){if(r===t)return;if(r.focus(),y()!==t)return}}function ce(e,t){if(!t)return!1;return function(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const e=t[o].x,i=t[o].y,u=t[l].x,s=t[l].y;i>n!=s>n&&r<(u-e)*(n-i)/(s-i)+e&&(a=!a)}return a}({x:e.clientX,y:e.clientY},t)}function de(e){return"mouse"===e.pointerType}const fe="data-reka-collection-item";function pe(e={}){const{key:t="",isProvider:r=!1}=e,n=`${t}CollectionProvider`;let a;if(r){const e=w(new Map),t=w();a={collectionRef:t,itemMap:e},T(n,a)}else a=I(n);const o=j({name:"CollectionSlot",setup(e,{slots:t}){const{primitiveElement:r,currentElement:n}=ne();return q(n,()=>{a.collectionRef.value=n.value}),()=>O(m,{ref:r},t)}}),l=j({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:r}){const{primitiveElement:n,currentElement:o}=ne();return E(t=>{if(o.value){const r=x(o.value);a.itemMap.value.set(r,{ref:o.value,value:e.value}),t(()=>a.itemMap.value.delete(r))}}),()=>O(m,s(u({},r),{[fe]:"",ref:n}),t)}});return{getItems:(e=!1)=>{const t=a.collectionRef.value;if(!t)return[];const r=Array.from(t.querySelectorAll(`[${fe}]`)),n=Array.from(a.itemMap.value.values()).sort((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref));return e?n:n.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:S(()=>Array.from(a.itemMap.value.values())),itemMapSize:S(()=>a.itemMap.value.size),CollectionSlot:o,CollectionItem:l}}const ve={bubbles:!1,cancelable:!0},ye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function me(e,t=!1){const r=y();for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),y()!==r)return}}const[be,he]=b("RovingFocusGroup");var ge=j({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:r}){const n=e,a=r,{loop:o,orientation:l,dir:i}=F(n),u=ee(i),s=h(n,"currentTabStopId",a,{defaultValue:n.defaultCurrentTabStopId,passive:void 0===n.currentTabStopId}),c=w(!1),d=w(!1),f=w(0),{getItems:p,CollectionSlot:v}=pe({isProvider:!0});function y(e){const t=!d.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!c.value){const t=new CustomEvent("rovingFocusGroup.onEntryFocus",ve);if(e.currentTarget.dispatchEvent(t),a("entryFocus",t),!t.defaultPrevented){const e=p().map(e=>e.ref).filter(e=>""!==e.dataset.disabled);me([e.find(e=>""===e.getAttribute("data-active")),e.find(e=>""===e.getAttribute("data-highlighted")),e.find(e=>e.id===s.value),...e].filter(Boolean),n.preventScrollOnEntryFocus)}}d.value=!1}function m(){setTimeout(()=>{d.value=!1},1)}return t({getItems:p}),he({loop:o,dir:u,orientation:l,currentTabStopId:s,onItemFocus:e=>{s.value=e},onItemShiftTab:()=>{c.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(e,t)=>(C(),B(M(v),null,{default:k(()=>[z(M(g),{tabindex:c.value||0===f.value?-1:0,"data-orientation":M(l),as:e.as,"as-child":e.asChild,dir:M(u),style:{outline:"none"},onMousedown:t[0]||(t[0]=e=>d.value=!0),onMouseup:m,onFocus:y,onBlur:t[1]||(t[1]=e=>c.value=!1)},{default:k(()=>[R(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Ae=j({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,r=be(),n=A(),a=S(()=>t.tabStopId||n),o=S(()=>r.currentTabStopId.value===a.value),{getItems:l,CollectionItem:i}=pe();function u(e){if("Tab"===e.key&&e.shiftKey)return void r.onItemShiftTab();if(e.target!==e.currentTarget)return;const n=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return ye[n]}(e,r.orientation.value,r.dir.value);if(void 0!==n){if(e.metaKey||e.ctrlKey||e.altKey||!t.allowShiftKey&&e.shiftKey)return;e.preventDefault();let i=[...l().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)];if("last"===n)i.reverse();else if("prev"===n||"next"===n){"prev"===n&&i.reverse();const t=i.indexOf(e.currentTarget);i=r.loop.value?(o=t+1,(a=i).map((e,t)=>a[(o+t)%a.length])):i.slice(t+1)}D(()=>me(i))}var a,o}return U(()=>{t.focusable&&r.onFocusableItemAdd()}),P(()=>{t.focusable&&r.onFocusableItemRemove()}),(e,t)=>(C(),B(M(i),null,{default:k(()=>[z(M(g),{tabindex:o.value?0:-1,"data-orientation":M(r).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:t[0]||(t[0]=t=>{e.focusable?M(r).onItemFocus(a.value):t.preventDefault()}),onFocus:t[1]||(t[1]=e=>M(r).onItemFocus(a.value)),onKeydown:u},{default:k(()=>[R(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),$e=j({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:r,currentElement:n}=ne(),a=S(()=>{var e;return null!=(e=t.checked)?e:t.value});return q(a,(e,t)=>{if(!n.value)return;const r=n.value,a=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(a,"value").set;if(o&&e!==t){const t=new Event("input",{bubbles:!0}),n=new Event("change",{bubbles:!0});o.call(r,e),r.dispatchEvent(t),r.dispatchEvent(n)}}),(e,n)=>(C(),B($,_({ref_key:"primitiveElement",ref:r},u(u({},t),e.$attrs),{as:"input"}),null,16))}}),we=j({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,r=S(()=>"object"==typeof t.value&&Array.isArray(t.value)&&0===t.value.length&&t.required),n=S(()=>"string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||null===t.value||void 0===t.value?[{name:t.name,value:t.value}]:"object"==typeof t.value&&Array.isArray(t.value)?t.value.flatMap((e,r)=>"object"==typeof e?Object.entries(e).map(([e,n])=>({name:`${t.name}[${r}][${e}]`,value:n})):{name:`${t.name}[${r}]`,value:e}):null===t.value||"object"!=typeof t.value||Array.isArray(t.value)?[]:Object.entries(t.value).map(([e,r])=>({name:`${t.name}[${e}]`,value:r})));return(e,a)=>(C(),V(K,null,[L(" We render single input if it's required "),r.value?(C(),B($e,_({key:e.name},u(u({},t),e.$attrs),{name:e.name,value:e.value}),null,16,["name","value"])):(C(!0),V(K,{key:1},N(n.value,r=>(C(),B($e,_({key:r.name},{ref_for:!0},u(u({},t),e.$attrs),{name:r.name,value:r.value}),null,16,["name","value"]))),128))],2112))}});export{ie as F,ae as I,le as L,Ae as R,oe as S,we as V,X as a,G as b,ee as c,ne as d,Q as e,pe as f,ue as g,re as h,J as i,se as j,ge as k,ce as l,de as m,te as u};
