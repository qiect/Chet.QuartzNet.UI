var v=(W,_,G)=>new Promise((S,P)=>{var M=c=>{try{N(G.next(c))}catch(k){P(k)}},E=c=>{try{N(G.throw(c))}catch(k){P(k)}},N=c=>c.done?S(c.value):Promise.resolve(c.value).then(M,E);N((G=G.apply(W,_)).next())});import Pe from"./cron-helper-C2kY2Fv5.js";import{J as T,f as x,h as Je,i as Re,p as Me,r as Ue,t as he,j as Be,k as Ve,u as _e,l as He,e as ze,s as $e,m as Fe}from"./job-xhKACJ6c.js";import{T as F}from"./index-DiGAAGzf.js";import{a1 as qe,L as b,P as Ke,E as me,f as I,bG as q,aa as Qe,ai as K,aj as B,ak as r,p as t,a9 as a,aw as u,aU as Xe,ax as ve,an as We,as as Ye,F as Ze,aV as ea}from"../jse/index-index-BGAXRlBF.js";import Q from"./index-BxsXIxzR.js";import{M as R}from"./index-CLsZS6xS.js";import{a1 as O,ci as d,c1 as X,cj as aa,bG as ta}from"./bootstrap-CdpFrx8U.js";import{D as oa,T as la}from"./index-KuO1CmO9.js";import{C as fe}from"./index-BcfsE3Lr.js";import{F as n}from"./index-DOTqnbXo.js";import w from"./index-Bqlw_xy9.js";import f from"./index-BUkX50Ph.js";import V from"./index-dJmUlMYB.js";import{_ as ra}from"./page.vue_vue_type_script_setup_true_lang-BDANvgN0.js";import{R as be,C as p}from"./index-CEDHhNxs.js";import"./index-CxTq4YpY.js";import"./index-Br6_EEym.js";import"./Trigger-DbGE8a8y.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./BaseInput-DLUyY7Uf.js";import"./Overflow-Ce8BM4-q.js";import"./index-Cv3EMe2i.js";import"./isMobile-8sZ0LT6r.js";import"./DownOutlined-wz_eIPui.js";import"./CheckOutlined-DZfeS4i0.js";import"./SearchOutlined-BjqfS1wa.js";import"./move-D-dkMtfj.js";import"./slide-OSp98V1U.js";import"./collapseMotion-BsUjuifm.js";import"./index-z-2UKqvc.js";import"./index-D2I5GXvE.js";import"./useMergedState-DrTPlBng.js";import"./FormItemContext-DtPuV8Aa.js";import"./statusUtils-B5MBNLTZ.js";import"./responsiveObserve-pfX6YVAW.js";import"./index-CQxDtcw5.js";import"./index-DiksSwZQ.js";import"./colors-kNPHrY-i.js";import"./index-DyWIvRaE.js";import"./Checkbox-IhuP0vec.js";import"./shallowequal-CxEdxKMQ.js";import"./_arrayIncludes-B8uzE354.js";import"./index-5biBvbQK.js";import"./isPlainObject-iigyFZ2w.js";import"./EyeOutlined-Dnxcttqu.js";import"./debounce-uNowcwB5.js";import"./useRefs-DIf9gg-O.js";import"./Col-VTFupWNS.js";import"./useFlexGapSupport-7yUbloly.js";const sa={class:"mb-4 flex items-center justify-between"},ua=qe({__name:"job",setup(W){const _={[T.DLL]:{text:"DLL",color:"blue"},[T.API]:{text:"API",color:"green"},DLL:{text:"DLL",color:"blue"},API:{text:"API",color:"green"}},G={[x.Normal]:{text:"正常",status:"success"},[x.Paused]:{text:"已暂停",status:"error"},[x.Completed]:{text:"已完成",status:"default"},[x.Error]:{text:"错误",status:"error"},[x.Blocked]:{text:"阻塞",status:"warning"}},S=b(!1),P=b([]),M=b(0),E=b(1),N=b(10),c=b({schedulerName:"",schedulerInstanceId:"",isStarted:!1,isShutdown:!0,inStandbyMode:!1,status:"未知",jobCount:0,executingJobCount:0,threadPoolSize:0,version:"",startTime:void 0,runningTime:0}),k=b(),g=b({jobName:"",jobGroup:"",status:void 0}),A=b(!1),L=b("新增作业"),s=Ke({jobName:"",jobGroup:"",jobType:T.DLL,jobClassOrApi:"",cronExpression:"",description:"",jobData:"",apiMethod:"GET",apiHeaders:"",apiBody:"",apiTimeout:60,skipSslValidation:!1,startTime:void 0,endTime:void 0,isEnabled:!0}),H=b(),Y=b([]),z=()=>v(null,null,function*(){try{const o=yield Be();o.success&&o.data&&(Y.value=o.data)}catch(o){console.error("获取作业类列表失败:",o),d.error("获取作业类列表失败")}}),U=b(!1),ce=()=>{U.value=!0},Z=()=>{U.value=!1},ye=o=>{s.cronExpression=o,Z()},je=o=>v(null,null,function*(){o===T.DLL&&(yield z())}),D=b(""),j=b(""),Te=me(()=>[{title:"作业名称",dataIndex:"jobName",ellipsis:!0,sorter:!0,fixed:"left",width:300,sortOrder:D.value==="jobName"?j.value==="asc"?"ascend":j.value==="desc"?"descend":void 0:void 0},{title:"作业分组",dataIndex:"jobGroup",ellipsis:!0,sorter:!0,fixed:"left",width:300,sortOrder:D.value==="jobGroup"?j.value==="asc"?"ascend":j.value==="desc"?"descend":void 0:void 0},{title:"作业类型",dataIndex:"jobType",ellipsis:!0,customRender:({record:o})=>{const e=_[o.jobType];return I(F,{color:(e==null?void 0:e.color)||"default"},(e==null?void 0:e.text)||"未知")}},{title:"作业类名/API",dataIndex:"jobClassOrApi",ellipsis:!0},{title:"cron表达式",dataIndex:"cronExpression",ellipsis:!0},{title:"上次执行",dataIndex:"previousRunTime",ellipsis:!0,sorter:!0,sortOrder:D.value==="previousRunTime"?j.value==="asc"?"ascend":j.value==="desc"?"descend":void 0:void 0,customRender:({record:o})=>o.previousRunTime?q(o.previousRunTime):"-"},{title:"下次执行",dataIndex:"nextRunTime",ellipsis:!0,sorter:!0,sortOrder:D.value==="nextRunTime"?j.value==="asc"?"ascend":j.value==="desc"?"descend":void 0:void 0,customRender:({record:o})=>o.nextRunTime?q(o.nextRunTime):"-"},{title:"状态",dataIndex:"status",ellipsis:!0,customRender:({record:o})=>{const e=G[o.status];return I(F,{color:(e==null?void 0:e.status)||"default"},(e==null?void 0:e.text)||o.status||"未知")}},{title:"是否启用",dataIndex:"isEnabled",ellipsis:!0,customRender:({record:o})=>I(Q,{checked:o.isEnabled,disabled:!0})},{title:"创建时间",dataIndex:"createTime",ellipsis:!0,sorter:!0,sortOrder:D.value==="createTime"?j.value==="asc"?"ascend":j.value==="desc"?"descend":void 0:void 0,customRender:({record:o})=>o.createTime?q(o.createTime):"-"},{title:"操作",key:"action",width:80,customRender:({record:o})=>{const e=I(R,{},[I(R.Item,{onClick:()=>we(o)},"编辑"),I(R.Item,{onClick:()=>Ee(o),danger:!0},"删除"),I(R.Item,{onClick:()=>o.status===x.Normal?Ne(o):ke(o)},o.status===x.Normal?"停止":"恢复"),I(R.Item,{onClick:()=>Ae(o)},"立即执行")]);return I(oa,{trigger:["click"],overlay:e},{default:()=>I(O,{type:"primary",disabled:S.value},"操作")})}}]),xe=me(()=>({current:E.value,pageSize:N.value,total:M.value,showSizeChanger:!0,showQuickJumper:!0,showTotal:(o,e)=>`${e[0]}-${e[1]} 共 ${o} 条`,pageSizeOptions:["10","20","50","100"]})),ge=(o,e,l)=>{o.current!==void 0&&(E.value=o.current),o.pageSize!==void 0&&(N.value=o.pageSize),l.field!==void 0&&(D.value=l.field,j.value=l.order==="ascend"?"asc":l.order==="descend"?"desc":""),C()},C=()=>v(null,null,function*(){var o,e;S.value=!0;try{const l=yield Ve({pageIndex:E.value,pageSize:N.value,jobName:g.value.jobName,jobGroup:g.value.jobGroup,status:g.value.status,sortBy:D.value,sortOrder:j.value});P.value=((o=l.data)==null?void 0:o.items)||[],M.value=((e=l.data)==null?void 0:e.totalCount)||0}catch(l){d.error("获取作业列表失败"),console.error("获取作业列表失败:",l)}finally{S.value=!1}}),Se=()=>v(null,null,function*(){k.value&&(yield k.value.validateFields()),E.value=1,C()}),Ce=()=>{g.value={jobName:"",jobGroup:"",status:void 0},E.value=1,C()},Ie=()=>v(null,null,function*(){L.value="新增作业",Object.assign(s,{jobName:"",jobGroup:"",jobType:T.DLL,jobClassOrApi:"",cronExpression:"0 0/1 * * * ?",description:"",jobData:"",apiMethod:"GET",apiHeaders:"",apiBody:"",apiTimeout:60,skipSslValidation:!1,startTime:void 0,endTime:void 0,isEnabled:!0}),yield z(),A.value=!0}),we=o=>v(null,null,function*(){var e,l,m,y,J,ee,ae,te,oe,le,re,se,ue,ie,de,ne,pe;S.value=!0;try{const i=yield Je(o.jobName,o.jobGroup);L.value="编辑作业";let h=T.DLL;((e=i.data)==null?void 0:e.jobType)==="API"?h=T.API:((l=i.data)==null?void 0:l.jobType)==="DLL"?h=T.DLL:typeof((m=i.data)==null?void 0:m.jobType)=="number"&&(h=i.data.jobType);const Ge={jobName:((y=i.data)==null?void 0:y.jobName)||"",jobGroup:((J=i.data)==null?void 0:J.jobGroup)||"",jobType:h,jobClassOrApi:((ee=i.data)==null?void 0:ee.jobClassOrApi)||"",cronExpression:((ae=i.data)==null?void 0:ae.cronExpression)||"",description:((te=i.data)==null?void 0:te.description)||"",jobData:((oe=i.data)==null?void 0:oe.jobData)||"",apiMethod:((le=i.data)==null?void 0:le.apiMethod)||"GET",apiHeaders:((re=i.data)==null?void 0:re.apiHeaders)||"",apiBody:((se=i.data)==null?void 0:se.apiBody)||"",apiTimeout:((ue=i.data)==null?void 0:ue.apiTimeout)||60,skipSslValidation:((ie=i.data)==null?void 0:ie.skipSslValidation)||!1,startTime:((de=i.data)==null?void 0:de.startTime)||void 0,endTime:((ne=i.data)==null?void 0:ne.endTime)||void 0,isEnabled:((pe=i.data)==null?void 0:pe.isEnabled)!==!1};Object.assign(s,Ge),s.jobType===T.DLL&&(yield z()),A.value=!0}catch(i){d.error("获取作业详情失败"),console.error("获取作业详情失败:",i)}finally{S.value=!1}}),Oe=()=>v(null,null,function*(){var o,e;if(H.value)try{yield H.value.validate(),S.value=!0;const l={jobName:s.jobName,jobGroup:s.jobGroup,jobType:s.jobType,jobClassOrApi:s.jobClassOrApi,cronExpression:s.cronExpression,description:s.description,jobData:s.jobData,apiMethod:s.apiMethod,apiHeaders:s.apiHeaders,apiBody:s.apiBody,apiTimeout:s.apiTimeout,skipSslValidation:s.skipSslValidation,startTime:s.startTime,endTime:s.endTime,isEnabled:s.isEnabled};s.jobName&&s.jobGroup&&L.value==="编辑作业"?(yield _e(l),d.success("作业更新成功")):(yield He(l),d.success("作业创建成功")),A.value=!1,C()}catch(l){if(l.errorFields)return;const m=((e=(o=l.response)==null?void 0:o.data)==null?void 0:e.message)||l.message||(L.value==="编辑作业"?"作业更新失败":"作业创建失败");d.error(m),console.error("保存作业失败:",l)}finally{S.value=!1}}),Ee=o=>{X.confirm({title:"确认删除",content:`确定要删除作业 "${o.jobName}" 吗？此操作不可恢复，相关的作业日志和配置也将被删除。`,okText:"确定",okType:"danger",cancelText:"取消",onOk(){return v(this,null,function*(){try{yield Re(o.jobName,o.jobGroup),d.success("作业删除成功"),C()}catch(l){d.error("作业删除失败"),console.error("删除作业失败:",l)}})}})},Ne=o=>v(null,null,function*(){try{yield Me(o.jobName,o.jobGroup),d.success("作业暂停成功"),C()}catch(e){d.error("作业暂停失败"),console.error("暂停作业失败:",e)}}),ke=o=>v(null,null,function*(){try{yield Ue(o.jobName,o.jobGroup),d.success("作业恢复成功"),C()}catch(e){d.error("作业恢复失败"),console.error("恢复作业失败:",e)}}),Ae=o=>v(null,null,function*(){try{yield he(o.jobName,o.jobGroup),d.success("作业立即执行成功"),aa.success({message:"作业执行通知",description:`作业 ${o.jobName} 已开始执行，请稍后在日志中查看执行结果`})}catch(e){d.error("作业执行失败"),console.error("执行作业失败:",e)}}),$=()=>v(null,null,function*(){try{const o=yield ze();o.success&&o.data&&(c.value=o.data)}catch(o){console.error("获取调度器状态失败:",o),d.error("获取调度器状态失败")}}),Le=()=>v(null,null,function*(){try{(yield $e()).success&&(d.success("调度器启动成功"),yield $(),C())}catch(o){console.error("启动调度器失败:",o),d.error("启动调度器失败")}}),De=()=>{X.confirm({title:"确认停止调度器",content:"确定要停止调度器吗？停止后所有作业将不再执行，直到重新启动调度器。",okText:"确定",okType:"danger",cancelText:"取消",onOk(){return v(this,null,function*(){try{(yield Fe()).success&&(d.success("调度器停止成功"),yield $(),C())}catch(e){console.error("停止调度器失败:",e),d.error("停止调度器失败")}})}})};return Qe(()=>v(null,null,function*(){yield $(),C()})),(o,e)=>(B(),K(a(ra),null,{default:r(()=>[t(a(fe),{class:"mb-4"},{default:r(()=>[t(a(n),{ref_key:"searchFormRef",ref:k,model:g.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:18},"label-align":"right"},{default:r(()=>[t(a(be),{gutter:16},{default:r(()=>[t(a(p),{xs:24,sm:12,md:8,lg:8},{default:r(()=>[t(a(n).Item,{label:"作业名称",name:"jobName"},{default:r(()=>[t(a(w),{value:g.value.jobName,"onUpdate:value":e[0]||(e[0]=l=>g.value.jobName=l),placeholder:"请输入作业名称"},null,8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:12,md:8,lg:8},{default:r(()=>[t(a(n).Item,{label:"作业分组",name:"jobGroup"},{default:r(()=>[t(a(w),{value:g.value.jobGroup,"onUpdate:value":e[1]||(e[1]=l=>g.value.jobGroup=l),placeholder:"请输入作业分组"},null,8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:12,md:8,lg:8},{default:r(()=>[t(a(n).Item,{label:"作业状态",name:"status"},{default:r(()=>[t(a(f),{value:g.value.status,"onUpdate:value":e[2]||(e[2]=l=>g.value.status=l),placeholder:"请选择状态",allowClear:""},{default:r(()=>[t(a(f).Option,{value:a(x).Normal},{default:r(()=>[...e[20]||(e[20]=[u("正常",-1)])]),_:1},8,["value"]),t(a(f).Option,{value:a(x).Paused},{default:r(()=>[...e[21]||(e[21]=[u("已暂停",-1)])]),_:1},8,["value"]),t(a(f).Option,{value:a(x).Completed},{default:r(()=>[...e[22]||(e[22]=[u("已完成",-1)])]),_:1},8,["value"]),t(a(f).Option,{value:a(x).Error},{default:r(()=>[...e[23]||(e[23]=[u("错误",-1)])]),_:1},8,["value"]),t(a(f).Option,{value:a(x).Blocked},{default:r(()=>[...e[24]||(e[24]=[u("阻塞",-1)])]),_:1},8,["value"])]),_:1},8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24,lg:24,class:"text-right"},{default:r(()=>[t(a(V),null,{default:r(()=>[t(a(O),{type:"primary",onClick:Se},{default:r(()=>[...e[25]||(e[25]=[u(" 搜索 ",-1)])]),_:1}),t(a(O),{onClick:Ce},{default:r(()=>[...e[26]||(e[26]=[u(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(a(fe),null,{default:r(()=>[Xe("div",sa,[t(a(V),null,{default:r(()=>[t(a(O),{type:"primary",disabled:c.value.isStarted,onClick:Le},{default:r(()=>[...e[27]||(e[27]=[u(" 启动调度器 ",-1)])]),_:1},8,["disabled"]),t(a(O),{danger:"",disabled:!c.value.isStarted||c.value.isShutdown,onClick:De},{default:r(()=>[...e[28]||(e[28]=[u(" 停止调度器 ",-1)])]),_:1},8,["disabled"]),t(a(F),{color:c.value.isStarted?"success":"error"},{default:r(()=>[u(ve(c.value.status),1)]),_:1},8,["color"])]),_:1}),t(a(O),{type:"primary",onClick:Ie},{default:r(()=>[...e[29]||(e[29]=[u(" 新增作业 ",-1)])]),_:1})]),t(a(la),{columns:Te.value,"data-source":P.value,pagination:xe.value,loading:S.value,rowKey:l=>`${l.jobName}-${l.jobGroup}`,onChange:ge,size:"middle",scroll:{x:"max-content"}},null,8,["columns","data-source","pagination","loading","rowKey"])]),_:1}),t(a(X),{visible:A.value,"onUpdate:visible":e[17]||(e[17]=l=>A.value=l),title:L.value,width:"800px","body-style":{padding:"24px"},destroyOnClose:"",onCancel:e[18]||(e[18]=l=>A.value=!1)},{footer:r(()=>[t(a(V),null,{default:r(()=>[t(a(O),{onClick:e[16]||(e[16]=l=>A.value=!1)},{default:r(()=>[...e[37]||(e[37]=[u("取消",-1)])]),_:1}),t(a(O),{type:"primary",onClick:Oe},{default:r(()=>[...e[38]||(e[38]=[u("保存",-1)])]),_:1})]),_:1})]),default:r(()=>[t(a(n),{ref_key:"formRef",ref:H,model:s,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:18},"label-align":"right"},{default:r(()=>[t(a(be),{gutter:16},{default:r(()=>[t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"作业名称",name:"jobName",rules:[{required:!0,message:"请输入作业名称"}]},{default:r(()=>[t(a(w),{value:s.jobName,"onUpdate:value":e[3]||(e[3]=l=>s.jobName=l),placeholder:"请输入作业名称",disabled:L.value==="编辑作业"},null,8,["value","disabled"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"作业分组",name:"jobGroup",rules:[{required:!0,message:"请输入作业分组"}]},{default:r(()=>[t(a(w),{value:s.jobGroup,"onUpdate:value":e[4]||(e[4]=l=>s.jobGroup=l),placeholder:"请输入作业分组",disabled:L.value==="编辑作业"},null,8,["value","disabled"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"Cron表达式",name:"cronExpression",rules:[{required:!0,message:"请输入Cron表达式"}]},{default:r(()=>[t(a(V).Compact,{style:{width:"100%"}},{default:r(()=>[t(a(w),{value:s.cronExpression,"onUpdate:value":e[5]||(e[5]=l=>s.cronExpression=l),placeholder:"例如: 0 0/1 * * * ?",style:{flex:"1"}},null,8,["value"]),t(a(O),{type:"default",onClick:ce},{default:r(()=>[...e[30]||(e[30]=[u(" 帮助 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"作业类型",name:"jobType",rules:[{required:!0,message:"请选择作业类型"}]},{default:r(()=>[t(a(f),{value:s.jobType,"onUpdate:value":e[6]||(e[6]=l=>s.jobType=l),onChange:je},{default:r(()=>[t(a(f).Option,{value:a(T).DLL},{default:r(()=>[...e[31]||(e[31]=[u("DLL",-1)])]),_:1},8,["value"]),t(a(f).Option,{value:a(T).API},{default:r(()=>[...e[32]||(e[32]=[u("API",-1)])]),_:1},8,["value"])]),_:1},8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"作业类名/API",name:"jobClassOrApi",rules:[{required:!0,message:"请输入作业类名或API URL"}]},{default:r(()=>[t(a(f),{value:s.jobClassOrApi,"onUpdate:value":e[7]||(e[7]=l=>s.jobClassOrApi=l),placeholder:"请选择或输入作业类名",showSearch:"",allowClear:"",mode:"SECRET_COMBOBOX_MODE_DO_NOT_USE","filter-option":(l,m)=>((m==null?void 0:m.label)||"").toLowerCase().includes(l.toLowerCase())},{default:r(()=>[(B(!0),Ye(Ze,null,ea(Y.value,l=>(B(),K(a(f).Option,{key:l,value:l,label:l},{default:r(()=>[u(ve(l),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","filter-option"])]),_:1})]),_:1}),s.jobType===a(T).API?(B(),K(a(p),{key:0,xs:24,sm:24,md:24},{default:r(()=>[t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"API请求方法",name:"apiMethod",rules:[{required:!0,message:"请选择API请求方法"}]},{default:r(()=>[t(a(f),{value:s.apiMethod,"onUpdate:value":e[8]||(e[8]=l=>s.apiMethod=l)},{default:r(()=>[t(a(f).Option,{value:"GET"},{default:r(()=>[...e[33]||(e[33]=[u("GET",-1)])]),_:1}),t(a(f).Option,{value:"POST"},{default:r(()=>[...e[34]||(e[34]=[u("POST",-1)])]),_:1}),t(a(f).Option,{value:"PUT"},{default:r(()=>[...e[35]||(e[35]=[u("PUT",-1)])]),_:1}),t(a(f).Option,{value:"DELETE"},{default:r(()=>[...e[36]||(e[36]=[u("DELETE",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"跳过SSL验证",name:"skipSslValidation",valuePropName:"checked"},{default:r(()=>[t(a(Q),{checked:s.skipSslValidation,"onUpdate:checked":e[9]||(e[9]=l=>s.skipSslValidation=l)},null,8,["checked"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"API超时(秒)",name:"apiTimeout",rules:[{required:!0,message:"请输入API超时时间",type:"number"},{type:"number",min:1,message:"API超时时间必须大于0"}]},{default:r(()=>[t(a(w),{type:"number",value:s.apiTimeout,"onUpdate:value":e[10]||(e[10]=l=>s.apiTimeout=l),valueModifiers:{number:!0},placeholder:"请输入API超时时间，单位秒"},null,8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"API请求头",name:"apiHeaders",rules:[{validator:(l,m,y)=>{if(!m)return y();try{JSON.parse(m),y()}catch(J){y(new Error("请输入有效的JSON格式"))}}}]},{default:r(()=>[t(a(w).TextArea,{value:s.apiHeaders,"onUpdate:value":e[11]||(e[11]=l=>s.apiHeaders=l),placeholder:"JSON格式的请求头，例如: {'Content-Type': 'application/json'}",rows:3},null,8,["value"])]),_:1},8,["rules"])]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"API请求体",name:"apiBody",rules:[{validator:(l,m,y)=>{if(!m)return y();try{JSON.parse(m),y()}catch(J){y(new Error("请输入有效的JSON格式"))}}}]},{default:r(()=>[t(a(w).TextArea,{value:s.apiBody,"onUpdate:value":e[12]||(e[12]=l=>s.apiBody=l),placeholder:"JSON格式的请求体",rows:4},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1})):We("",!0),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"作业数据",name:"jobData",rules:[{validator:(l,m,y)=>{if(!m)return y();try{JSON.parse(m),y()}catch(J){y(new Error("请输入有效的JSON格式"))}}}]},{default:r(()=>[t(a(w).TextArea,{value:s.jobData,"onUpdate:value":e[13]||(e[13]=l=>s.jobData=l),placeholder:"JSON格式的作业数据",rows:4},null,8,["value"])]),_:1},8,["rules"])]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"描述",name:"description"},{default:r(()=>[t(a(w).TextArea,{value:s.description,"onUpdate:value":e[14]||(e[14]=l=>s.description=l),placeholder:"请输入作业描述",rows:3},null,8,["value"])]),_:1})]),_:1}),t(a(p),{xs:24,sm:24,md:24},{default:r(()=>[t(a(n).Item,{label:"是否启用",name:"isEnabled",valuePropName:"checked"},{default:r(()=>[t(a(Q),{checked:s.isEnabled,"onUpdate:checked":e[15]||(e[15]=l=>s.isEnabled=l)},null,8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(Pe,{visible:U.value,"onUpdate:visible":e[19]||(e[19]=l=>U.value=l),onCancel:Z,onSelect:ye},null,8,["visible"])]),_:1}))}}),lt=ta(ua,[["__scopeId","data-v-2c52111f"]]);export{lt as default};
