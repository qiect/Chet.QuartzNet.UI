import{F as e,_ as t}from"./bootstrap-BadVN9sI.js";import{i as s}from"./ResizeObserver.es-C7U_o75s.js";import{a1 as o,P as i,aa as f,o as n,ad as a,U as r,k as h}from"../jse/index-index-Cr7_Iy4w.js";const d=o({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(o,d){let{slots:l}=d;const c=i({width:0,height:0,offsetHeight:0,offsetWidth:0});let g=null,u=null;const m=()=>{u&&(u.disconnect(),u=null)},p=e=>{const{onResize:s}=o,i=e[0].target,{width:f,height:n}=i.getBoundingClientRect(),{offsetWidth:a,offsetHeight:r}=i,h=Math.floor(f),d=Math.floor(n);if(c.width!==h||c.height!==d||c.offsetWidth!==a||c.offsetHeight!==r){const e={width:h,height:d,offsetWidth:a,offsetHeight:r};t(c,e),s&&Promise.resolve().then(()=>{s(t(t({},e),{offsetWidth:a,offsetHeight:r}),i)})}},v=h(),b=()=>{const{disabled:t}=o;if(t)return void m();const i=e(v);i!==g&&(m(),g=i),!u&&i&&(u=new s(p),u.observe(i))};return f(()=>{b()}),n(()=>{b()}),a(()=>{m()}),r(()=>o.disabled,()=>{b()},{flush:"post"}),()=>{var e;return null===(e=l.default)||void 0===e?void 0:e.call(l)[0]}}});export{d as R};
