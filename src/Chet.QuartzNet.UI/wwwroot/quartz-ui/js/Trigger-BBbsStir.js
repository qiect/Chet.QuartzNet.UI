import{P as t,_ as e,ac as o,X as n,b as i,f as r,h as s,k as a,ad as u,ae as l,af as c,ag as p,ah as h,O as f,ai as d,aj as m,ak as v,al as g,M as y,am as b,an as w,ao as T,x as P,ap as x,W as O,Y as _,aq as C,a8 as M,E as D,H as S,ar as k,as as j,at as $,au as A,av as E,F as H,aw as V}from"./bootstrap-YsVmr8JV.js";import{p as R,aS as N,bm as z,a1 as B,L as F,a3 as W,U as L,aa as X,a8 as Y,E as I,V as U,o as G,ad as q,X as Q,F as Z,a2 as J,N as K}from"../jse/index-index-Cal9Ay2z.js";import{i as tt}from"./ResizeObserver.es-C7U_o75s.js";function et(){return""}function ot(t){return t?t.ownerDocument:window.document}function nt(){}const it={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},rt=e(e({},it),{mobile:{type:Object}}),st=e(e({},it),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function at(t){const{prefixCls:e,visible:r,zIndex:s,mask:a,maskAnimation:u,maskTransitionName:l}=t;if(!a)return null;let c={};return(l||u)&&(c=o({prefixCls:e,transitionName:l,animation:u})),R(n,i({appear:!0},c),{default:()=>[N(R("div",{style:{zIndex:s},class:`${e}-mask`},null),[[z("if"),r]])]})}at.displayName="Mask";const ut=B({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:rt,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,o){let{expose:a,slots:u}=o;const l=F();return a({forceAlign:()=>{},getElement:()=>l.value}),()=>{var o;const{zIndex:a,visible:c,prefixCls:p,mobile:{popupClassName:h,popupStyle:f,popupMotion:d={},popupRender:m}={}}=t,v=e({zIndex:a},f);let g=r(null===(o=u.default)||void 0===o?void 0:o.call(u));g.length>1&&(g=R("div",{class:`${p}-content`},[g])),m&&(g=m(g));const y=s(p,h);return R(n,i({ref:l},d),{default:()=>[c?R("div",{class:y,style:v},[g]):null]})}}});var lt=function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{u(n.next(t))}catch(e){r(e)}}function a(t){try{u(n.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}u((n=n.apply(t,e||[])).next())})};const ct=["measure","align",null,"motion"];function pt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function ht(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(o),!0).forEach(function(e){dt(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):pt(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var mt,vt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function gt(){if(void 0!==mt)return mt;mt="";var t=document.createElement("p").style;for(var e in vt)e+"Transform"in t&&(mt=e);return mt}function yt(){return gt()?"".concat(gt(),"TransitionProperty"):"transitionProperty"}function bt(){return gt()?"".concat(gt(),"Transform"):"transform"}function wt(t,e){var o=yt();o&&(t.style[o]=e,"transitionProperty"!==o&&(t.style.transitionProperty=e))}function Tt(t,e){var o=bt();o&&(t.style[o]=e,"transform"!==o&&(t.style.transform=e))}var Pt,xt=/matrix\((.*)\)/,Ot=/matrix3d\((.*)\)/;function _t(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function Ct(t,e,o){var n=o;if("object"!==ft(e))return void 0!==n?("number"==typeof n&&(n="".concat(n,"px")),void(t.style[e]=n)):Pt(t,e);for(var i in e)e.hasOwnProperty(i)&&Ct(t,i,e[i])}function Mt(t,e){var o=t["page".concat(e?"Y":"X","Offset")],n="scroll".concat(e?"Top":"Left");if("number"!=typeof o){var i=t.document;"number"!=typeof(o=i.documentElement[n])&&(o=i.body[n])}return o}function Dt(t){return Mt(t)}function St(t){return Mt(t,!0)}function kt(t){var e=function(t){var e,o,n,i=t.ownerDocument,r=i.body,s=i&&i.documentElement;return e=t.getBoundingClientRect(),o=Math.floor(e.left),n=Math.floor(e.top),{left:o-=s.clientLeft||r.clientLeft||0,top:n-=s.clientTop||r.clientTop||0}}(t),o=t.ownerDocument,n=o.defaultView||o.parentWindow;return e.left+=Dt(n),e.top+=St(n),e}function jt(t){return null!=t&&t==t.window}function $t(t){return jt(t)?t.document:9===t.nodeType?t:t.ownerDocument}var At=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Et=/^(top|right|bottom|left)$/,Ht="currentStyle",Vt="runtimeStyle",Rt="left";function Nt(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function zt(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function Bt(t,e,o){"static"===Ct(t,"position")&&(t.style.position="relative");var n=-999,i=-999,r=Nt("left",o),s=Nt("top",o),a=zt(r),u=zt(s);"left"!==r&&(n=999),"top"!==s&&(i=999);var l,c="",p=kt(t);("left"in e||"top"in e)&&(c=(l=t).style.transitionProperty||l.style[yt()]||"",wt(t,"none")),"left"in e&&(t.style[a]="",t.style[r]="".concat(n,"px")),"top"in e&&(t.style[u]="",t.style[s]="".concat(i,"px")),_t(t);var h=kt(t),f={};for(var d in e)if(e.hasOwnProperty(d)){var m=Nt(d,o),v="left"===d?n:i,g=p[d]-h[d];f[m]=m===d?v+g:v-g}Ct(t,f),_t(t),("left"in e||"top"in e)&&wt(t,c);var y={};for(var b in e)if(e.hasOwnProperty(b)){var w=Nt(b,o),T=e[b]-p[b];y[w]=b===w?f[w]+T:f[w]-T}Ct(t,y)}function Ft(t,e){var o=kt(t),n=function(t){var e=window.getComputedStyle(t,null),o=e.getPropertyValue("transform")||e.getPropertyValue(bt());if(o&&"none"!==o){var n=o.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}(t),i={x:n.x,y:n.y};"left"in e&&(i.x=n.x+e.left-o.left),"top"in e&&(i.y=n.y+e.top-o.top),function(t,e){var o=window.getComputedStyle(t,null),n=o.getPropertyValue("transform")||o.getPropertyValue(bt());if(n&&"none"!==n){var i,r=n.match(xt);r?((i=(r=r[1]).split(",").map(function(t){return parseFloat(t,10)}))[4]=e.x,i[5]=e.y,Tt(t,"matrix(".concat(i.join(","),")"))):((i=n.match(Ot)[1].split(",").map(function(t){return parseFloat(t,10)}))[12]=e.x,i[13]=e.y,Tt(t,"matrix3d(".concat(i.join(","),")")))}else Tt(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}(t,i)}function Wt(t,e){for(var o=0;o<t.length;o++)e(t[o])}function Lt(t){return"border-box"===Pt(t,"boxSizing")}"undefined"!=typeof window&&(Pt=window.getComputedStyle?function(t,e,o){var n=o,i="",r=$t(t);return(n=n||r.defaultView.getComputedStyle(t,null))&&(i=n.getPropertyValue(e)||n[e]),i}:function(t,e){var o=t[Ht]&&t[Ht][e];if(At.test(o)&&!Et.test(e)){var n=t.style,i=n[Rt],r=t[Vt][Rt];t[Vt][Rt]=t[Ht][Rt],n[Rt]="fontSize"===e?"1em":o||0,o=n.pixelLeft+"px",n[Rt]=i,t[Vt][Rt]=r}return""===o?"auto":o});var Xt=["margin","border","padding"];function Yt(t,e,o){var n,i,r,s=0;for(i=0;i<e.length;i++)if(n=e[i])for(r=0;r<o.length;r++){var a=void 0;a="border"===n?"".concat(n).concat(o[r],"Width"):n+o[r],s+=parseFloat(Pt(t,a))||0}return s}var It={getParent:function(t){var e=t;do{e=11===e.nodeType&&e.host?e.host:e.parentNode}while(e&&1!==e.nodeType&&9!==e.nodeType);return e}};function Ut(t,e,o){var n=o;if(jt(t))return"width"===e?It.viewportWidth(t):It.viewportHeight(t);if(9===t.nodeType)return"width"===e?It.docWidth(t):It.docHeight(t);var i="width"===e?["Left","Right"]:["Top","Bottom"],r="width"===e?Math.floor(t.getBoundingClientRect().width):Math.floor(t.getBoundingClientRect().height),s=Lt(t),a=0;(null==r||r<=0)&&(r=void 0,(null==(a=Pt(t,e))||Number(a)<0)&&(a=t.style[e]||0),a=Math.floor(parseFloat(a))||0),void 0===n&&(n=s?1:-1);var u=void 0!==r||s,l=r||a;return-1===n?u?l-Yt(t,["border","padding"],i):a:u?1===n?l:l+(2===n?-Yt(t,["border"],i):Yt(t,["margin"],i)):a+Yt(t,Xt.slice(n),i)}Wt(["Width","Height"],function(t){It["doc".concat(t)]=function(e){var o=e.document;return Math.max(o.documentElement["scroll".concat(t)],o.body["scroll".concat(t)],It["viewport".concat(t)](o))},It["viewport".concat(t)]=function(e){var o="client".concat(t),n=e.document,i=n.body,r=n.documentElement[o];return"CSS1Compat"===n.compatMode&&r||i&&i[o]||r}});var Gt={position:"absolute",visibility:"hidden",display:"block"};function qt(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var n,i=e[0];return 0!==i.offsetWidth?n=Ut.apply(void 0,e):function(t,e,o){var n,i={},r=t.style;for(n in e)e.hasOwnProperty(n)&&(i[n]=r[n],r[n]=e[n]);for(n in o.call(t),e)e.hasOwnProperty(n)&&(r[n]=i[n])}(i,Gt,function(){n=Ut.apply(void 0,e)}),n}function Qt(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}Wt(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);It["outer".concat(e)]=function(e,o){return e&&qt(e,t,o?0:1)};var o="width"===t?["Left","Right"]:["Top","Bottom"];It[t]=function(e,n){var i=n;return void 0!==i?e?(Lt(e)&&(i+=Yt(e,["padding","border"],o)),Ct(e,t,i)):void 0:e&&qt(e,t,-1)}});var Zt={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},getDocument:$t,offset:function(t,e,o){if(void 0===e)return kt(t);!function(t,e,o){if(o.ignoreShake){var n=kt(t),i=n.left.toFixed(0),r=n.top.toFixed(0),s=e.left.toFixed(0),a=e.top.toFixed(0);if(i===s&&r===a)return}o.useCssRight||o.useCssBottom?Bt(t,e,o):o.useCssTransform&&bt()in document.body.style?Ft(t,e):Bt(t,e,o)}(t,e,o||{})},isWindow:jt,each:Wt,css:Ct,clone:function(t){var e,o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);if(t.overflow)for(e in t)t.hasOwnProperty(e)&&(o.overflow[e]=t.overflow[e]);return o},mix:Qt,getWindowScrollLeft:function(t){return Dt(t)},getWindowScrollTop:function(t){return St(t)},merge:function(){for(var t={},e=0;e<arguments.length;e++)Zt.mix(t,e<0||arguments.length<=e?void 0:arguments[e]);return t},viewportWidth:0,viewportHeight:0};Qt(Zt,It);var Jt=Zt.getParent;function Kt(t){if(Zt.isWindow(t)||9===t.nodeType)return null;var e,o=Zt.getDocument(t).body,n=Zt.css(t,"position");if(!("fixed"===n||"absolute"===n))return"html"===t.nodeName.toLowerCase()?null:Jt(t);for(e=Jt(t);e&&e!==o&&9!==e.nodeType;e=Jt(e))if("static"!==(n=Zt.css(e,"position")))return e;return null}var te=Zt.getParent;function ee(t,e){for(var o={left:0,right:1/0,top:0,bottom:1/0},n=Kt(t),i=Zt.getDocument(t),r=i.defaultView||i.parentWindow,s=i.body,a=i.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===s||n===a||"visible"===Zt.css(n,"overflow")){if(n===s||n===a)break}else{var u=Zt.offset(n);u.left+=n.clientLeft,u.top+=n.clientTop,o.top=Math.max(o.top,u.top),o.right=Math.min(o.right,u.left+n.clientWidth),o.bottom=Math.min(o.bottom,u.top+n.clientHeight),o.left=Math.max(o.left,u.left)}n=Kt(n)}var l=null;Zt.isWindow(t)||9===t.nodeType||(l=t.style.position,"absolute"===Zt.css(t,"position")&&(t.style.position="fixed"));var c=Zt.getWindowScrollLeft(r),p=Zt.getWindowScrollTop(r),h=Zt.viewportWidth(r),f=Zt.viewportHeight(r),d=a.scrollWidth,m=a.scrollHeight,v=window.getComputedStyle(s);if("hidden"===v.overflowX&&(d=r.innerWidth),"hidden"===v.overflowY&&(m=r.innerHeight),t.style&&(t.style.position=l),e||function(t){if(Zt.isWindow(t)||9===t.nodeType)return!1;var e=Zt.getDocument(t),o=e.body,n=null;for(n=te(t);n&&n!==o&&n!==e;n=te(n))if("fixed"===Zt.css(n,"position"))return!0;return!1}(t))o.left=Math.max(o.left,c),o.top=Math.max(o.top,p),o.right=Math.min(o.right,c+h),o.bottom=Math.min(o.bottom,p+f);else{var g=Math.max(d,c+h);o.right=Math.min(o.right,g);var y=Math.max(m,p+f);o.bottom=Math.min(o.bottom,y)}return o.top>=0&&o.left>=0&&o.bottom>o.top&&o.right>o.left?o:null}function oe(t){var e,o,n;if(Zt.isWindow(t)||9===t.nodeType){var i=Zt.getWindow(t);e={left:Zt.getWindowScrollLeft(i),top:Zt.getWindowScrollTop(i)},o=Zt.viewportWidth(i),n=Zt.viewportHeight(i)}else e=Zt.offset(t),o=Zt.outerWidth(t),n=Zt.outerHeight(t);return e.width=o,e.height=n,e}function ne(t,e){var o=e.charAt(0),n=e.charAt(1),i=t.width,r=t.height,s=t.left,a=t.top;return"c"===o?a+=r/2:"b"===o&&(a+=r),"c"===n?s+=i/2:"r"===n&&(s+=i),{left:s,top:a}}function ie(t,e,o,n,i){var r=ne(e,o[1]),s=ne(t,o[0]),a=[s.left-r.left,s.top-r.top];return{left:Math.round(t.left-a[0]+n[0]-i[0]),top:Math.round(t.top-a[1]+n[1]-i[1])}}function re(t,e,o){return t.left<o.left||t.left+e.width>o.right}function se(t,e,o){return t.top<o.top||t.top+e.height>o.bottom}function ae(t,e,o){var n=[];return Zt.each(t,function(t){n.push(t.replace(e,function(t){return o[t]}))}),n}function ue(t,e){return t[e]=-t[e],t}function le(t,e){return(/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10))||0}function ce(t,e){t[0]=le(t[0],e.width),t[1]=le(t[1],e.height)}function pe(t,e,o,n){var i=o.points,r=o.offset||[0,0],s=o.targetOffset||[0,0],a=o.overflow,u=o.source||t;r=[].concat(r),s=[].concat(s);var l={},c=0,p=ee(u,!(!(a=a||{})||!a.alwaysByViewport)),h=oe(u);ce(r,h),ce(s,e);var f=ie(h,e,i,r,s),d=Zt.merge(h,f);if(p&&(a.adjustX||a.adjustY)&&n){if(a.adjustX&&re(f,h,p)){var m=ae(i,/[lr]/gi,{l:"r",r:"l"}),v=ue(r,0),g=ue(s,0);(function(t,e,o){return t.left>o.right||t.left+e.width<o.left})(ie(h,e,m,v,g),h,p)||(c=1,i=m,r=v,s=g)}if(a.adjustY&&se(f,h,p)){var y=ae(i,/[tb]/gi,{t:"b",b:"t"}),b=ue(r,1),w=ue(s,1);(function(t,e,o){return t.top>o.bottom||t.top+e.height<o.top})(ie(h,e,y,b,w),h,p)||(c=1,i=y,r=b,s=w)}c&&(f=ie(h,e,i,r,s),Zt.mix(d,f));var T=re(f,h,p),P=se(f,h,p);if(T||P){var x=i;T&&(x=ae(i,/[lr]/gi,{l:"r",r:"l"})),P&&(x=ae(i,/[tb]/gi,{t:"b",b:"t"})),i=x,r=o.offset||[0,0],s=o.targetOffset||[0,0]}l.adjustX=a.adjustX&&T,l.adjustY=a.adjustY&&P,(l.adjustX||l.adjustY)&&(d=function(t,e,o,n){var i=Zt.clone(t),r={width:e.width,height:e.height};return n.adjustX&&i.left<o.left&&(i.left=o.left),n.resizeWidth&&i.left>=o.left&&i.left+r.width>o.right&&(r.width-=i.left+r.width-o.right),n.adjustX&&i.left+r.width>o.right&&(i.left=Math.max(o.right-r.width,o.left)),n.adjustY&&i.top<o.top&&(i.top=o.top),n.resizeHeight&&i.top>=o.top&&i.top+r.height>o.bottom&&(r.height-=i.top+r.height-o.bottom),n.adjustY&&i.top+r.height>o.bottom&&(i.top=Math.max(o.bottom-r.height,o.top)),Zt.mix(i,r)}(f,h,p,l))}return d.width!==h.width&&Zt.css(u,"width",Zt.width(u)+d.width-h.width),d.height!==h.height&&Zt.css(u,"height",Zt.height(u)+d.height-h.height),Zt.offset(u,{left:d.left,top:d.top},{useCssRight:o.useCssRight,useCssBottom:o.useCssBottom,useCssTransform:o.useCssTransform,ignoreShake:o.ignoreShake}),{points:i,offset:r,targetOffset:s,overflow:l}}function he(t,e,o){var n=o.target||e,i=oe(n),r=!function(t,e){var o=ee(t,e),n=oe(t);return!o||n.left+n.width<=o.left||n.top+n.height<=o.top||n.left>=o.right||n.top>=o.bottom}(n,o.overflow&&o.overflow.alwaysByViewport);return pe(t,i,o,r)}function fe(t,e){let o=null,n=null;const i=new tt(function(t){let[{target:i}]=t;if(!document.documentElement.contains(i))return;const{width:r,height:s}=i.getBoundingClientRect(),a=Math.floor(r),u=Math.floor(s);o===a&&n===u||Promise.resolve().then(()=>{e({width:a,height:u})}),o=a,n=u});return t&&i.observe(t),()=>{i.disconnect()}}he.__getOffsetParent=Kt,he.__getVisibleRectForElement=ee;function de(t,e){return t===e||t!=t&&e!=e}function me(t,e){for(var o=t.length;o--;)if(de(t[o][0],e))return o;return-1}var ve=Array.prototype.splice;function ge(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(t){var e=this.__data__,o=me(e,t);return!(o<0)&&(o==e.length-1?e.pop():ve.call(e,o,1),--this.size,!0)},ge.prototype.get=function(t){var e=this.__data__,o=me(e,t);return o<0?void 0:e[o][1]},ge.prototype.has=function(t){return me(this.__data__,t)>-1},ge.prototype.set=function(t,e){var o=this.__data__,n=me(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this};var ye=l(Object,"create");var be=Object.prototype.hasOwnProperty;var we=Object.prototype.hasOwnProperty;function Te(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function Pe(t,e){var o,n,i=t.__data__;return("string"==(n=typeof(o=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==o:null===o)?i["string"==typeof e?"string":"hash"]:i.map}function xe(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}Te.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},Te.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Te.prototype.get=function(t){var e=this.__data__;if(ye){var o=e[t];return"__lodash_hash_undefined__"===o?void 0:o}return be.call(e,t)?e[t]:void 0},Te.prototype.has=function(t){var e=this.__data__;return ye?void 0!==e[t]:we.call(e,t)},Te.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=ye&&void 0===e?"__lodash_hash_undefined__":e,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(c||ge),string:new Te}},xe.prototype.delete=function(t){var e=Pe(this,t).delete(t);return this.size-=e?1:0,e},xe.prototype.get=function(t){return Pe(this,t).get(t)},xe.prototype.has=function(t){return Pe(this,t).has(t)},xe.prototype.set=function(t,e){var o=Pe(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this};function Oe(t){var e=this.__data__=new ge(t);this.size=e.size}Oe.prototype.clear=function(){this.__data__=new ge,this.size=0},Oe.prototype.delete=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},Oe.prototype.get=function(t){return this.__data__.get(t)},Oe.prototype.has=function(t){return this.__data__.has(t)},Oe.prototype.set=function(t,e){var o=this.__data__;if(o instanceof ge){var n=o.__data__;if(!c||n.length<199)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new xe(n)}return o.set(t,e),this.size=o.size,this};function _e(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new xe;++e<o;)this.add(t[e])}function Ce(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(e(t[o],o,t))return!0;return!1}function Me(t,e){return t.has(e)}_e.prototype.add=_e.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},_e.prototype.has=function(t){return this.__data__.has(t)};function De(t,e,o,n,i,r){var s=1&o,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=r.get(t),c=r.get(e);if(l&&c)return l==e&&c==t;var p=-1,h=!0,f=2&o?new _e:void 0;for(r.set(t,e),r.set(e,t);++p<a;){var d=t[p],m=e[p];if(n)var v=s?n(m,d,p,e,t,r):n(d,m,p,t,e,r);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!Ce(e,function(t,e){if(!Me(f,e)&&(d===t||i(d,t,o,n,r)))return f.push(e)})){h=!1;break}}else if(d!==m&&!i(d,m,o,n,r)){h=!1;break}}return r.delete(t),r.delete(e),h}var Se=p.Uint8Array;function ke(t){var e=-1,o=Array(t.size);return t.forEach(function(t,n){o[++e]=[n,t]}),o}function je(t){var e=-1,o=Array(t.size);return t.forEach(function(t){o[++e]=t}),o}var $e=h?h.prototype:void 0,Ae=$e?$e.valueOf:void 0;function Ee(t,e){for(var o=-1,n=e.length,i=t.length;++o<n;)t[i+o]=e[o];return t}function He(t,e,o){var n=e(t);return f(t)?n:Ee(n,o(t))}function Ve(){return[]}var Re=Object.prototype.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols,ze=Ne?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var o=-1,n=null==t?0:t.length,i=0,r=[];++o<n;){var s=t[o];e(s,o,t)&&(r[i++]=s)}return r}(Ne(t),function(e){return Re.call(t,e)}))}:Ve;var Be=/^(?:0|[1-9]\d*)$/;function Fe(t,e){var o=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&Be.test(t))&&t>-1&&t%1==0&&t<e}var We=Object.prototype.hasOwnProperty;function Le(t,e){var o=f(t),n=!o&&d(t),i=!o&&!n&&m(t),r=!o&&!n&&!i&&v(t),s=o||n||i||r,a=s?function(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}(t.length,String):[],u=a.length;for(var l in t)!e&&!We.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Fe(l,u))||a.push(l);return a}function Xe(t){return y(t)?Le(t):g(t)}function Ye(t){return He(t,Xe,ze)}var Ie=Object.prototype.hasOwnProperty;var Ue="[object Arguments]",Ge="[object Array]",qe="[object Object]",Qe=Object.prototype.hasOwnProperty;function Ze(t,e,o,n,i,r){var s=f(t),a=f(e),u=s?Ge:b(t),l=a?Ge:b(e),c=(u=u==Ue?qe:u)==qe,p=(l=l==Ue?qe:l)==qe,h=u==l;if(h&&m(t)){if(!m(e))return!1;s=!0,c=!1}if(h&&!c)return r||(r=new Oe),s||v(t)?De(t,e,o,n,i,r):function(t,e,o,n,i,r,s){switch(o){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new Se(t),new Se(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return de(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ke;case"[object Set]":var u=1&n;if(a||(a=je),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;n|=2,s.set(t,e);var c=De(a(t),a(e),n,i,r,s);return s.delete(t),c;case"[object Symbol]":if(Ae)return Ae.call(t)==Ae.call(e)}return!1}(t,e,u,o,n,i,r);if(!(1&o)){var d=c&&Qe.call(t,"__wrapped__"),g=p&&Qe.call(e,"__wrapped__");if(d||g){var y=d?t.value():t,w=g?e.value():e;return r||(r=new Oe),i(y,w,o,n,r)}}return!!h&&(r||(r=new Oe),function(t,e,o,n,i,r){var s=1&o,a=Ye(t),u=a.length;if(u!=Ye(e).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in e:Ie.call(e,c)))return!1}var p=r.get(t),h=r.get(e);if(p&&h)return p==e&&h==t;var f=!0;r.set(t,e),r.set(e,t);for(var d=s;++l<u;){var m=t[c=a[l]],v=e[c];if(n)var g=s?n(v,m,c,e,t,r):n(m,v,c,t,e,r);if(!(void 0===g?m===v||i(m,v,o,n,r):g)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return r.delete(t),r.delete(e),f}(t,e,o,n,i,r))}function Je(t,e,o,n,i){return t===e||(null==t||null==e||!w(t)&&!w(e)?t!=t&&e!=e:Ze(t,e,o,n,Je,i))}function Ke(t,e){return Je(t,e)}function to(t){return"function"!=typeof t?null:t()}function eo(t){return"object"==typeof t&&t?t:null}const oo=B({compatConfig:{MODE:3},name:"Align",props:{align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean},emits:["align"],setup(t,e){let{expose:o,slots:n}=e;const i=F({}),r=F(),[s,a]=((t,e)=>{let o=!1,n=null;function i(){clearTimeout(n)}return[function r(s){if(o&&!0!==s)i(),n=setTimeout(()=>{o=!1,r()},e.value);else{if(!1===t())return;o=!0,i(),n=setTimeout(()=>{o=!1},e.value)}},()=>{o=!1,i()}]})(()=>{const{disabled:e,target:o,align:n,onAlign:s}=t;if(!e&&o&&r.value){const t=r.value;let e;const x=to(o),O=eo(o);i.value.element=x,i.value.point=O,i.value.align=n;const{activeElement:_}=document;return x&&T(x)?e=he(t,x,n):O&&(a=t,l=O,c=n,f=Zt.getDocument(a),d=f.defaultView||f.parentWindow,m=Zt.getWindowScrollLeft(d),v=Zt.getWindowScrollTop(d),g=Zt.viewportWidth(d),y=Zt.viewportHeight(d),b={left:p="pageX"in l?l.pageX:m+l.clientX,top:h="pageY"in l?l.pageY:v+l.clientY,width:0,height:0},w=p>=0&&p<=m+g&&h>=0&&h<=v+y,P=[c.points[0],"cc"],e=pe(a,b,ht(ht({},c),{},{points:P}),w)),function(t,e){t!==document.activeElement&&u(e,t)&&"function"==typeof t.focus&&t.focus()}(_,t),s&&e&&s(t,e),!0}var a,l,c,p,h,f,d,m,v,g,y,b,w,P;return!1},I(()=>t.monitorBufferTime)),l=F({cancel:()=>{}}),c=F({cancel:()=>{}}),p=()=>{const e=t.target,o=to(e),n=eo(e);var a,u;r.value!==c.value.element&&(c.value.cancel(),c.value.element=r.value,c.value.cancel=fe(r.value,s)),i.value.element===o&&((a=i.value.point)===(u=n)||a&&u&&("pageX"in u&&"pageY"in u?a.pageX===u.pageX&&a.pageY===u.pageY:"clientX"in u&&"clientY"in u&&a.clientX===u.clientX&&a.clientY===u.clientY))&&Ke(i.value.align,t.align)||(s(),l.value.element!==o&&(l.value.cancel(),l.value.element=o,l.value.cancel=fe(o,s)))};X(()=>{U(()=>{p()})}),G(()=>{U(()=>{p()})}),L(()=>t.disabled,t=>{t?a():s()},{immediate:!0,flush:"post"});const h=F(null);return L(()=>t.monitorWindowResize,t=>{t?h.value||(h.value=x(window,"resize",s)):h.value&&(h.value.remove(),h.value=null)},{flush:"post"}),q(()=>{l.value.cancel(),c.value.cancel(),h.value&&h.value.remove(),a()}),o({forceAlign:()=>s(!0)}),()=>{const t=null==n?void 0:n.default();return t?P(t[0],{ref:r},!0,!0):null}}}),no=B({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:it,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,u){let{expose:l,attrs:c,slots:p}=u;const h=W(),f=W(),d=W(),[m,v]=(t=>{const e=W({width:0,height:0});return[I(()=>{const o={};if(t.value){const{width:n,height:i}=e.value;-1!==t.value.indexOf("height")&&i?o.height=`${i}px`:-1!==t.value.indexOf("minHeight")&&i&&(o.minHeight=`${i}px`),-1!==t.value.indexOf("width")&&n?o.width=`${n}px`:-1!==t.value.indexOf("minWidth")&&n&&(o.minWidth=`${n}px`)}return o}),function(t){e.value={width:t.offsetWidth,height:t.offsetHeight}}]})(Q(t,"stretch")),g=W(!1);let y;L(()=>t.visible,e=>{clearTimeout(y),e?y=setTimeout(()=>{g.value=t.visible}):g.value=!1},{immediate:!0});const[b,w]=((t,e)=>{const o=W(null),n=W(),i=W(!1);function r(t){i.value||(o.value=t)}function s(){a.cancel(n.value)}return L(t,()=>{r("measure")},{immediate:!0,flush:"post"}),X(()=>{L(o,()=>{"measure"===o.value&&e(),o.value&&(n.value=a(()=>lt(void 0,void 0,void 0,function*(){const t=ct.indexOf(o.value),e=ct[t+1];e&&-1!==t&&r(e)})))},{immediate:!0,flush:"post"})}),Y(()=>{i.value=!0,s()}),[o,function(t){s(),n.value=a(()=>{let e=o.value;switch(o.value){case"align":e="motion";break;case"motion":e="stable"}r(e),null==t||t()})}]})(g,()=>{t.stretch&&v(t.getRootDomNode())}),T=W(),P=()=>{var t;null===(t=h.value)||void 0===t||t.forceAlign()},x=(e,o)=>{var n;const i=t.getClassNameFromAlign(o),r=d.value;d.value!==i&&(d.value=i),"align"===b.value&&(r!==i?Promise.resolve().then(()=>{P()}):w(()=>{var t;null===(t=T.value)||void 0===t||t.call(T)}),null===(n=t.onAlign)||void 0===n||n.call(t,e,o))},D=I(()=>{const e="object"==typeof t.animation?t.animation:o(t);return["onAfterEnter","onAfterLeave"].forEach(t=>{const o=e[t];e[t]=t=>{w(),b.value="stable",null==o||o(t)}}),e}),S=()=>new Promise(t=>{T.value=t});L([D,b],()=>{D.value||"motion"!==b.value||w()},{immediate:!0}),l({forceAlign:P,getElement:()=>f.value.$el||f.value});const k=I(()=>{var e;return!(null===(e=t.align)||void 0===e?void 0:e.points)||"align"!==b.value&&"stable"!==b.value});return()=>{var o;const{zIndex:a,align:u,prefixCls:l,destroyPopupOnHide:v,onMouseenter:y,onMouseleave:w,onTouchstart:T=()=>{},onMousedown:P}=t,j=b.value,$=[e(e({},m.value),{zIndex:a,opacity:"motion"!==j&&"stable"!==j&&g.value?0:null,pointerEvents:g.value||"stable"===j?null:"none"}),c.style];let A=r(null===(o=p.default)||void 0===o?void 0:o.call(p,{visible:t.visible}));A.length>1&&(A=R("div",{class:`${l}-content`},[A]));const E=s(l,c.class,d.value,!t.arrow&&`${l}-arrow-hidden`),H=g.value||!t.visible?O(D.value.name,D.value):{};return R(n,i(i({ref:f},H),{},{onBeforeEnter:S}),{default:()=>!v||t.visible?N(R(oo,{target:t.point?t.point:t.getRootDomNode,key:"popup",ref:h,monitorWindowResize:!0,disabled:k.value,align:u,onAlign:x},{default:()=>R("div",{class:E,onMouseenter:y,onMouseleave:w,onMousedown:C(P,["capture"]),[M?"onTouchstartPassive":"onTouchstart"]:C(T,["capture"]),style:$},[A])}),[[_,g.value]]):null})}}}),io=B({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:st,setup(t,o){let{attrs:n,slots:r,expose:s}=o;const a=W(!1),u=W(!1),l=W(),c=W();return L([()=>t.visible,()=>t.mobile],()=>{a.value=t.visible,t.visible&&t.mobile&&(u.value=!0)},{immediate:!0,flush:"post"}),s({forceAlign:()=>{var t;null===(t=l.value)||void 0===t||t.forceAlign()},getElement:()=>{var t;return null===(t=l.value)||void 0===t?void 0:t.getElement()}}),()=>{const o=e(e(e({},t),n),{visible:a.value}),s=u.value?R(ut,i(i({},o),{},{mobile:t.mobile,ref:l}),{default:r.default}):R(no,i(i({},o),{},{ref:l}),{default:r.default});return R("div",{ref:c},[R(at,o,null),s])}}});function ro(t,e,o){return o?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function so(t,o,n){const i=t[o]||{};return e(e({},i),n)}const ao={methods:{setState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,n="function"==typeof t?t(this.$data,this.$props):t;if(this.getDerivedStateFromProps){const t=this.getDerivedStateFromProps(D(this),e(e({},this.$data),n));if(null===t)return;n=e(e({},n),t||{})}e(this.$data,n),this._.isMounted&&this.$forceUpdate(),U(()=>{o&&o()})},__emit(){const t=[].slice.call(arguments,0);let e=t[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const o=this.$props[e]||this.$attrs[e];if(t.length&&o)if(Array.isArray(o))for(let n=0,i=o.length;n<i;n++)o[n](...t.slice(1));else o(...t.slice(1))}}},uo=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],lo=B({compatConfig:{MODE:3},name:"Trigger",mixins:[ao],inheritAttrs:!1,props:{action:t.oneOfType([t.string,t.arrayOf(t.string)]).def([]),showAction:t.any.def([]),hideAction:t.any.def([]),getPopupClassNameFromAlign:t.any.def(et),onPopupVisibleChange:Function,afterPopupVisibleChange:t.func.def(nt),popup:t.any,arrow:t.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:t.string.def("rc-trigger-popup"),popupClassName:t.string.def(""),popupPlacement:String,builtinPlacements:t.object,popupTransitionName:String,popupAnimation:t.any,mouseEnterDelay:t.number.def(0),mouseLeaveDelay:t.number.def(.1),zIndex:Number,focusDelay:t.number.def(0),blurDelay:t.number.def(.15),getPopupContainer:Function,getDocument:t.func.def(ot),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:t.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function},setup(t){const e=I(()=>{const{popupPlacement:e,popupAlign:o,builtinPlacements:n}=t;return e&&n?so(n,e,o):o}),o=W(null);return{vcTriggerContext:K("vcTriggerContext",{}),popupRef:o,setPopupRef:t=>{o.value=t},triggerRef:W(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const t=this.$props;let e;return e=void 0!==this.popupVisible?!!t.popupVisible:!!t.defaultPopupVisible,uo.forEach(t=>{this[`fire${t}`]=e=>{this.fireEvents(t,e)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(t){void 0!==t&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=t)}},created(){J("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),V(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),a.cancel(this.attachId)},methods:{updatedCal(){const t=this.$props;if(this.$data.sPopupVisible){let e;this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextmenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=x(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=x(e,"touchstart",this.onDocumentClick,!!M&&{passive:!1})),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=x(e,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=x(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(t){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",t),this.delaySetPopupVisible(!0,e,e?null:t)},onMouseMove(t){this.fireEvents("onMousemove",t),this.setPoint(t)},onMouseleave(t){this.fireEvents("onMouseleave",t),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:t={}}=this;t.onPopupMouseenter&&t.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(t){var e;if(t&&t.relatedTarget&&!t.relatedTarget.setTimeout&&u(null===(e=this.popupRef)||void 0===e?void 0:e.getElement(),t.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:o={}}=this;o.onPopupMouseleave&&o.onPopupMouseleave(t)},onFocus(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(t){this.fireEvents("onMousedown",t),this.preClickTime=Date.now()},onTouchstart(t){this.fireEvents("onTouchstart",t),this.preTouchTime=Date.now()},onBlur(t){u(t.target,t.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(t){t.preventDefault(),this.fireEvents("onContextmenu",t),this.setPopupVisible(!0,t)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(t){if(this.fireEvents("onClick",t),this.focusTime){let t;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault(),t&&t.domEvent&&t.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,t)},onPopupMouseDown(){const{vcTriggerContext:t={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),t.onPopupMouseDown&&t.onPopupMouseDown(...arguments)},onDocumentClick(t){if(this.$props.mask&&!this.$props.maskClosable)return;const e=t.target,o=this.getRootDomNode(),n=this.getPopupDomNode();u(o,e)&&!this.isContextMenuOnly()||u(n,e)||this.hasPopupMouseDown||this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var t;return(null===(t=this.popupRef)||void 0===t?void 0:t.getElement())||null},getRootDomNode(){var t,e,o,n;const{getTriggerDOMNode:i}=this.$props;if(i){const o="#comment"===(null===(e=null===(t=this.triggerRef)||void 0===t?void 0:t.$el)||void 0===e?void 0:e.nodeName)?null:H(this.triggerRef);return H(i(o))}try{const t="#comment"===(null===(n=null===(o=this.triggerRef)||void 0===o?void 0:o.$el)||void 0===n?void 0:n.nodeName)?null:H(this.triggerRef);if(t)return t}catch(r){}return H(this)},handleGetPopupClassFromAlign(t){const e=[],o=this.$props,{popupPlacement:n,builtinPlacements:i,prefixCls:r,alignPoint:s,getPopupClassNameFromAlign:a}=o;return n&&i&&e.push(function(t,e,o,n){const{points:i}=o,r=Object.keys(t);for(let s=0;s<r.length;s+=1){const o=r[s];if(ro(t[o].points,i,n))return`${e}-placement-${o}`}return""}(i,r,t,s)),a&&e.push(a(t)),e.join(" ")},getPopupAlign(){const t=this.$props,{popupPlacement:e,popupAlign:o,builtinPlacements:n}=t;return e&&n?so(n,e,o):o},getComponent(){const t={};this.isMouseEnterToShow()&&(t.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.onMouseleave=this.onPopupMouseleave),t.onMousedown=this.onPopupMouseDown,t[M?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:o,getRootDomNode:n,$attrs:i}=this,{prefixCls:r,destroyPopupOnHide:s,popupClassName:a,popupAnimation:u,popupTransitionName:l,popupStyle:c,mask:p,maskAnimation:h,maskTransitionName:f,zIndex:d,stretch:m,alignPoint:v,mobile:g,arrow:y,forceRender:b}=this.$props,{sPopupVisible:w,point:T}=this.$data,P=e(e({prefixCls:r,arrow:y,destroyPopupOnHide:s,visible:w,point:v?T:null,align:this.align,animation:u,getClassNameFromAlign:o,stretch:m,getRootDomNode:n,mask:p,zIndex:d,transitionName:l,maskAnimation:h,maskTransitionName:f,class:a,style:c,onAlign:i.onPopupAlign||nt},t),{ref:this.setPopupRef,mobile:g,forceRender:b});return R(io,P,{default:this.$slots.popup||(()=>E(this,"popup"))})},attachParent(t){a.cancel(this.attachId);const{getPopupContainer:e,getDocument:o}=this.$props,n=this.getRootDomNode();let i;e?(n||0===e.length)&&(i=e(n)):i=o(this.getRootDomNode()).body,i?i.appendChild(t):this.attachId=a(()=>{this.attachParent(t)})},getContainer(){const{$props:t}=this,{getDocument:e}=t,o=e(this.getRootDomNode()).createElement("div");return o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",this.attachParent(o),o},setPopupVisible(t,e){const{alignPoint:o,sPopupVisible:n,onPopupVisibleChange:i}=this;this.clearDelayTimer(),n!==t&&(A(this,"popupVisible")||this.setState({sPopupVisible:t,prevPopupVisible:n}),i&&i(t)),o&&e&&t&&this.setPoint(e)},setPoint(t){const{alignPoint:e}=this.$props;e&&t&&this.setState({point:{pageX:t.pageX,pageY:t.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(t,e,o){const n=1e3*e;if(this.clearDelayTimer(),n){const e=o?{pageX:o.pageX,pageY:o.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(t,e),this.clearDelayTimer()},n)}else this.setPopupVisible(t,o)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(t){let e=()=>{};const o=j(this);return this.childOriginEvents[t]&&o[t]?this[`fire${t}`]:(e=this.childOriginEvents[t]||o[t]||e,e)},isClickToShow(){const{action:t,showAction:e}=this.$props;return-1!==t.indexOf("click")||-1!==e.indexOf("click")},isContextMenuOnly(){const{action:t}=this.$props;return"contextmenu"===t||1===t.length&&"contextmenu"===t[0]},isContextmenuToShow(){const{action:t,showAction:e}=this.$props;return-1!==t.indexOf("contextmenu")||-1!==e.indexOf("contextmenu")},isClickToHide(){const{action:t,hideAction:e}=this.$props;return-1!==t.indexOf("click")||-1!==e.indexOf("click")},isMouseEnterToShow(){const{action:t,showAction:e}=this.$props;return-1!==t.indexOf("hover")||-1!==e.indexOf("mouseenter")},isMouseLeaveToHide(){const{action:t,hideAction:e}=this.$props;return-1!==t.indexOf("hover")||-1!==e.indexOf("mouseleave")},isFocusToShow(){const{action:t,showAction:e}=this.$props;return-1!==t.indexOf("focus")||-1!==e.indexOf("focus")},isBlurToHide(){const{action:t,hideAction:e}=this.$props;return-1!==t.indexOf("focus")||-1!==e.indexOf("blur")},forcePopupAlign(){var t;this.$data.sPopupVisible&&(null===(t=this.popupRef)||void 0===t||t.forceAlign())},fireEvents(t,e){this.childOriginEvents[t]&&this.childOriginEvents[t](e);const o=this.$props[t]||this.$attrs[t];o&&o(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:t}=this,o=S(k(this)),{alignPoint:n,getPopupContainer:i}=this.$props,r=o[0];this.childOriginEvents=j(r);const a={key:"trigger"};this.isContextmenuToShow()?a.onContextmenu=this.onContextmenu:a.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(a.onClick=this.onClick,a.onMousedown=this.onMousedown,a[M?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(a.onClick=this.createTwoChains("onClick"),a.onMousedown=this.createTwoChains("onMousedown"),a[M?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(a.onMouseenter=this.onMouseenter,n&&(a.onMousemove=this.onMouseMove)):a.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?a.onMouseleave=this.onMouseleave:a.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(a.onFocus=this.onFocus,a.onBlur=this.onBlur):(a.onFocus=this.createTwoChains("onFocus"),a.onBlur=t=>{!t||t.relatedTarget&&u(t.target,t.relatedTarget)||this.createTwoChains("onBlur")(t)});const l=s(r&&r.props&&r.props.class,t.class);l&&(a.class=l);const c=P(r,e(e({},a),{ref:"triggerRef"}),!0,!0),p=R($,{key:"portal",getContainer:i&&(()=>i(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return R(Z,null,[c,p])}});export{ao as B,xe as M,_e as S,lo as T,Se as U,Le as a,Ve as b,Me as c,Ee as d,He as e,Oe as f,ze as g,Ye as h,Je as i,Ke as j,Xe as k,de as l,Fe as m,je as s};
